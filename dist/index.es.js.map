{"version":3,"file":"index.es.js","sources":["../node_modules/@reach/utils/can-use-dom/dist/reach-utils-can-use-dom.esm.js","../node_modules/@reach/utils/use-isomorphic-layout-effect/dist/reach-utils-use-isomorphic-layout-effect.esm.js","../node_modules/@reach/auto-id/dist/reach-auto-id.esm.js","../node_modules/style-inject/dist/style-inject.es.js","../node_modules/react-is/cjs/react-is.production.min.js","../node_modules/react-is/cjs/react-is.development.js","../node_modules/react-is/index.js","../node_modules/object-assign/index.js","../node_modules/prop-types/lib/ReactPropTypesSecret.js","../node_modules/prop-types/checkPropTypes.js","../node_modules/prop-types/factoryWithTypeCheckers.js","../node_modules/prop-types/factoryWithThrowingShims.js","../node_modules/prop-types/index.js","../node_modules/react-portal/es/utils.js","../node_modules/react-portal/es/Portal.js","../node_modules/react-portal/es/LegacyPortal.js","../node_modules/react-portal/es/PortalCompat.js","../node_modules/react-portal/es/PortalWithState.js","../node_modules/lodash/_baseClamp.js","../node_modules/lodash/isObject.js","../node_modules/lodash/_freeGlobal.js","../node_modules/lodash/_root.js","../node_modules/lodash/_Symbol.js","../node_modules/lodash/_getRawTag.js","../node_modules/lodash/_objectToString.js","../node_modules/lodash/_baseGetTag.js","../node_modules/lodash/isObjectLike.js","../node_modules/lodash/isSymbol.js","../node_modules/lodash/toNumber.js","../node_modules/lodash/clamp.js","../node_modules/nanoid/non-secure/index.js","../src/components/ContextMenu/ContextMenu.js","../src/context.js","../src/components/Draggable/Draggable.js","../node_modules/lodash/_arrayMap.js","../node_modules/lodash/_listCacheClear.js","../node_modules/lodash/eq.js","../node_modules/lodash/_assocIndexOf.js","../node_modules/lodash/_listCacheDelete.js","../node_modules/lodash/_listCacheGet.js","../node_modules/lodash/_listCacheHas.js","../node_modules/lodash/_listCacheSet.js","../node_modules/lodash/_ListCache.js","../node_modules/lodash/_stackClear.js","../node_modules/lodash/_stackDelete.js","../node_modules/lodash/_stackGet.js","../node_modules/lodash/_stackHas.js","../node_modules/lodash/isFunction.js","../node_modules/lodash/_coreJsData.js","../node_modules/lodash/_isMasked.js","../node_modules/lodash/_toSource.js","../node_modules/lodash/_baseIsNative.js","../node_modules/lodash/_getValue.js","../node_modules/lodash/_getNative.js","../node_modules/lodash/_Map.js","../node_modules/lodash/_nativeCreate.js","../node_modules/lodash/_hashClear.js","../node_modules/lodash/_hashDelete.js","../node_modules/lodash/_hashGet.js","../node_modules/lodash/_hashHas.js","../node_modules/lodash/_hashSet.js","../node_modules/lodash/_Hash.js","../node_modules/lodash/_mapCacheClear.js","../node_modules/lodash/_isKeyable.js","../node_modules/lodash/_getMapData.js","../node_modules/lodash/_mapCacheDelete.js","../node_modules/lodash/_mapCacheGet.js","../node_modules/lodash/_mapCacheHas.js","../node_modules/lodash/_mapCacheSet.js","../node_modules/lodash/_MapCache.js","../node_modules/lodash/_stackSet.js","../node_modules/lodash/_Stack.js","../node_modules/lodash/_setCacheAdd.js","../node_modules/lodash/_setCacheHas.js","../node_modules/lodash/_SetCache.js","../node_modules/lodash/_arraySome.js","../node_modules/lodash/_cacheHas.js","../node_modules/lodash/_equalArrays.js","../node_modules/lodash/_Uint8Array.js","../node_modules/lodash/_mapToArray.js","../node_modules/lodash/_setToArray.js","../node_modules/lodash/_equalByTag.js","../node_modules/lodash/_arrayPush.js","../node_modules/lodash/isArray.js","../node_modules/lodash/_baseGetAllKeys.js","../node_modules/lodash/_arrayFilter.js","../node_modules/lodash/stubArray.js","../node_modules/lodash/_getSymbols.js","../node_modules/lodash/_baseTimes.js","../node_modules/lodash/_baseIsArguments.js","../node_modules/lodash/isArguments.js","../node_modules/lodash/stubFalse.js","../node_modules/lodash/isBuffer.js","../node_modules/lodash/_isIndex.js","../node_modules/lodash/isLength.js","../node_modules/lodash/_baseIsTypedArray.js","../node_modules/lodash/_baseUnary.js","../node_modules/lodash/_nodeUtil.js","../node_modules/lodash/isTypedArray.js","../node_modules/lodash/_arrayLikeKeys.js","../node_modules/lodash/_isPrototype.js","../node_modules/lodash/_overArg.js","../node_modules/lodash/_nativeKeys.js","../node_modules/lodash/_baseKeys.js","../node_modules/lodash/isArrayLike.js","../node_modules/lodash/keys.js","../node_modules/lodash/_getAllKeys.js","../node_modules/lodash/_equalObjects.js","../node_modules/lodash/_DataView.js","../node_modules/lodash/_Promise.js","../node_modules/lodash/_Set.js","../node_modules/lodash/_WeakMap.js","../node_modules/lodash/_getTag.js","../node_modules/lodash/_baseIsEqualDeep.js","../node_modules/lodash/_baseIsEqual.js","../node_modules/lodash/_baseIsMatch.js","../node_modules/lodash/_isStrictComparable.js","../node_modules/lodash/_getMatchData.js","../node_modules/lodash/_matchesStrictComparable.js","../node_modules/lodash/_baseMatches.js","../node_modules/lodash/_isKey.js","../node_modules/lodash/memoize.js","../node_modules/lodash/_memoizeCapped.js","../node_modules/lodash/_stringToPath.js","../node_modules/lodash/_baseToString.js","../node_modules/lodash/toString.js","../node_modules/lodash/_castPath.js","../node_modules/lodash/_toKey.js","../node_modules/lodash/_baseGet.js","../node_modules/lodash/get.js","../node_modules/lodash/_baseHasIn.js","../node_modules/lodash/_hasPath.js","../node_modules/lodash/hasIn.js","../node_modules/lodash/_baseMatchesProperty.js","../node_modules/lodash/identity.js","../node_modules/lodash/_baseProperty.js","../node_modules/lodash/_basePropertyDeep.js","../node_modules/lodash/property.js","../node_modules/lodash/_baseIteratee.js","../node_modules/lodash/_createBaseFor.js","../node_modules/lodash/_baseFor.js","../node_modules/lodash/_baseForOwn.js","../node_modules/lodash/_createBaseEach.js","../node_modules/lodash/_baseEach.js","../node_modules/lodash/_baseMap.js","../node_modules/lodash/_baseSortBy.js","../node_modules/lodash/_compareAscending.js","../node_modules/lodash/_compareMultiple.js","../node_modules/lodash/_baseOrderBy.js","../node_modules/lodash/orderBy.js","../src/constants.js","../src/components/Stage/Stage.js","../node_modules/d3-path/src/path.js","../node_modules/d3-shape/src/constant.js","../node_modules/d3-shape/src/math.js","../node_modules/d3-shape/src/curve/linear.js","../node_modules/d3-shape/src/point.js","../node_modules/d3-shape/src/line.js","../node_modules/d3-shape/src/curve/basis.js","../node_modules/d3-shape/src/curve/monotone.js","../src/connectionCalculator.js","../src/components/Checkbox/Checkbox.js","../src/components/TextInput/TextInput.js","../src/components/Select/Select.js","../src/components/Control/Control.js","../src/components/Connection/Connection.js","../src/hooks/usePrevious.js","../src/components/IoPorts/IoPorts.js","../src/components/Node/Node.js","../src/typeBuilders.js","../src/components/ColorPicker/ColorPicker.js","../src/components/Comment/Comment.js","../src/components/Toaster/Toaster.js","../src/components/Connections/Connections.js","../src/utilities.js","../src/nodesReducer.js","../src/commentsReducer.js","../src/toastsReducer.js","../src/stageReducer.js","../src/Cache.js","../src/RootEngine.js","../src/index.js"],"sourcesContent":["function canUseDOM() {\n  return !!(typeof window !== \"undefined\" && window.document && window.document.createElement);\n}\n\nexport { canUseDOM };\n","import { useLayoutEffect, useEffect } from 'react';\nimport { canUseDOM } from '../../can-use-dom/dist/reach-utils-can-use-dom.esm.js';\n\n/**\n * React currently throws a warning when using useLayoutEffect on the server. To\n * get around it, we can conditionally useEffect on the server (no-op) and\n * useLayoutEffect in the browser. We occasionally need useLayoutEffect to\n * ensure we don't get a render flash for certain operations, but we may also\n * need affected components to render on the server. One example is when setting\n * a component's descendants to retrieve their index values.\n *\n * Important to note that using this hook as an escape hatch will break the\n * eslint dependency warnings unless you rename the import to `useLayoutEffect`.\n * Use sparingly only when the effect won't effect the rendered HTML to avoid\n * any server/client mismatch.\n *\n * If a useLayoutEffect is needed and the result would create a mismatch, it's\n * likely that the component in question shouldn't be rendered on the server at\n * all, so a better approach would be to lazily render those in a parent\n * component after client-side hydration.\n *\n * https://gist.github.com/gaearon/e7d97cdf38a2907924ea12e4ebdf3c85\n * https://github.com/reduxjs/react-redux/blob/master/src/utils/useIsomorphicLayoutEffect.js\n *\n * @param effect\n * @param deps\n */\n\nvar useIsomorphicLayoutEffect = /*#__PURE__*/canUseDOM() ? useLayoutEffect : useEffect;\n\nexport { useIsomorphicLayoutEffect };\n","import { useState, useEffect } from 'react';\nimport { useIsomorphicLayoutEffect } from '@reach/utils/use-isomorphic-layout-effect';\n\n/*\n * Welcome to @reach/auto-id!\n\n * Let's see if we can make sense of why this hook exists and its\n * implementation.\n *\n * Some background:\n *   1. Accessibility APIs rely heavily on element IDs\n *   2. Requiring developers to put IDs on every element in Reach UI is both\n *      cumbersome and error-prone\n *   3. With a component model, we can generate IDs for them!\n *\n * Solution 1: Generate random IDs.\n *\n * This works great as long as you don't server render your app. When React (in\n * the client) tries to reuse the markup from the server, the IDs won't match\n * and React will then recreate the entire DOM tree.\n *\n * Solution 2: Increment an integer\n *\n * This sounds great. Since we're rendering the exact same tree on the server\n * and client, we can increment a counter and get a deterministic result between\n * client and server. Also, JS integers can go up to nine-quadrillion. I'm\n * pretty sure the tab will be closed before an app never needs\n * 10 quadrillion IDs!\n *\n * Problem solved, right?\n *\n * Ah, but there's a catch! React's concurrent rendering makes this approach\n * non-deterministic. While the client and server will end up with the same\n * elements in the end, depending on suspense boundaries (and possibly some user\n * input during the initial render) the incrementing integers won't always match\n * up.\n *\n * Solution 3: Don't use IDs at all on the server; patch after first render.\n *\n * What we've done here is solution 2 with some tricks. With this approach, the\n * ID returned is an empty string on the first render. This way the server and\n * client have the same markup no matter how wild the concurrent rendering may\n * have gotten.\n *\n * After the render, we patch up the components with an incremented ID. This\n * causes a double render on any components with `useId`. Shouldn't be a problem\n * since the components using this hook should be small, and we're only updating\n * the ID attribute on the DOM, nothing big is happening.\n *\n * It doesn't have to be an incremented number, though--we could do generate\n * random strings instead, but incrementing a number is probably the cheapest\n * thing we can do.\n *\n * Additionally, we only do this patchup on the very first client render ever.\n * Any calls to `useId` that happen dynamically in the client will be\n * populated immediately with a value. So, we only get the double render after\n * server hydration and never again, SO BACK OFF ALRIGHT?\n */\nvar serverHandoffComplete = false;\nvar id = 0;\n\nvar genId = function genId() {\n  return ++id;\n};\n/**\n * useId\n *\n * Autogenerate IDs to facilitate WAI-ARIA and server rendering.\n *\n * Note: The returned ID will initially be `null` and will update after a\n * component mounts. Users may need to supply their own ID if they need\n * consistent values for SSR.\n *\n * @see Docs https://reach.tech/auto-id\n */\n\n\nfunction useId(idFromProps) {\n  /*\n   * If this instance isn't part of the initial render, we don't have to do the\n   * double render/patch-up dance. We can just generate the ID and return it.\n   */\n  var initialId = idFromProps || (serverHandoffComplete ? genId() : null);\n\n  var _React$useState = useState(initialId),\n      id = _React$useState[0],\n      setId = _React$useState[1];\n\n  useIsomorphicLayoutEffect(function () {\n    if (id === null) {\n      /*\n       * Patch the ID after render. We do this in `useLayoutEffect` to avoid any\n       * rendering flicker, though it'll make the first render slower (unlikely\n       * to matter, but you're welcome to measure your app and let us know if\n       * it's a problem).\n       */\n      setId(genId());\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, []);\n  useEffect(function () {\n    if (serverHandoffComplete === false) {\n      /*\n       * Flag all future uses of `useId` to skip the update dance. This is in\n       * `useEffect` because it goes after `useLayoutEffect`, ensuring we don't\n       * accidentally bail out of the patch-up dance prematurely.\n       */\n      serverHandoffComplete = true;\n    }\n  }, []);\n  return id != null ? String(id) : undefined;\n}\n\nexport { useId };\n","function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","/** @license React v16.13.1\n * react-is.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';var b=\"function\"===typeof Symbol&&Symbol.for,c=b?Symbol.for(\"react.element\"):60103,d=b?Symbol.for(\"react.portal\"):60106,e=b?Symbol.for(\"react.fragment\"):60107,f=b?Symbol.for(\"react.strict_mode\"):60108,g=b?Symbol.for(\"react.profiler\"):60114,h=b?Symbol.for(\"react.provider\"):60109,k=b?Symbol.for(\"react.context\"):60110,l=b?Symbol.for(\"react.async_mode\"):60111,m=b?Symbol.for(\"react.concurrent_mode\"):60111,n=b?Symbol.for(\"react.forward_ref\"):60112,p=b?Symbol.for(\"react.suspense\"):60113,q=b?\nSymbol.for(\"react.suspense_list\"):60120,r=b?Symbol.for(\"react.memo\"):60115,t=b?Symbol.for(\"react.lazy\"):60116,v=b?Symbol.for(\"react.block\"):60121,w=b?Symbol.for(\"react.fundamental\"):60117,x=b?Symbol.for(\"react.responder\"):60118,y=b?Symbol.for(\"react.scope\"):60119;\nfunction z(a){if(\"object\"===typeof a&&null!==a){var u=a.$$typeof;switch(u){case c:switch(a=a.type,a){case l:case m:case e:case g:case f:case p:return a;default:switch(a=a&&a.$$typeof,a){case k:case n:case t:case r:case h:return a;default:return u}}case d:return u}}}function A(a){return z(a)===m}exports.AsyncMode=l;exports.ConcurrentMode=m;exports.ContextConsumer=k;exports.ContextProvider=h;exports.Element=c;exports.ForwardRef=n;exports.Fragment=e;exports.Lazy=t;exports.Memo=r;exports.Portal=d;\nexports.Profiler=g;exports.StrictMode=f;exports.Suspense=p;exports.isAsyncMode=function(a){return A(a)||z(a)===l};exports.isConcurrentMode=A;exports.isContextConsumer=function(a){return z(a)===k};exports.isContextProvider=function(a){return z(a)===h};exports.isElement=function(a){return\"object\"===typeof a&&null!==a&&a.$$typeof===c};exports.isForwardRef=function(a){return z(a)===n};exports.isFragment=function(a){return z(a)===e};exports.isLazy=function(a){return z(a)===t};\nexports.isMemo=function(a){return z(a)===r};exports.isPortal=function(a){return z(a)===d};exports.isProfiler=function(a){return z(a)===g};exports.isStrictMode=function(a){return z(a)===f};exports.isSuspense=function(a){return z(a)===p};\nexports.isValidElementType=function(a){return\"string\"===typeof a||\"function\"===typeof a||a===e||a===m||a===g||a===f||a===p||a===q||\"object\"===typeof a&&null!==a&&(a.$$typeof===t||a.$$typeof===r||a.$$typeof===h||a.$$typeof===k||a.$$typeof===n||a.$$typeof===w||a.$$typeof===x||a.$$typeof===y||a.$$typeof===v)};exports.typeOf=z;\n","/** @license React v16.13.1\n * react-is.development.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\n\n\nif (process.env.NODE_ENV !== \"production\") {\n  (function() {\n'use strict';\n\n// The Symbol used to tag the ReactElement-like types. If there is no native Symbol\n// nor polyfill, then a plain number is used for performance.\nvar hasSymbol = typeof Symbol === 'function' && Symbol.for;\nvar REACT_ELEMENT_TYPE = hasSymbol ? Symbol.for('react.element') : 0xeac7;\nvar REACT_PORTAL_TYPE = hasSymbol ? Symbol.for('react.portal') : 0xeaca;\nvar REACT_FRAGMENT_TYPE = hasSymbol ? Symbol.for('react.fragment') : 0xeacb;\nvar REACT_STRICT_MODE_TYPE = hasSymbol ? Symbol.for('react.strict_mode') : 0xeacc;\nvar REACT_PROFILER_TYPE = hasSymbol ? Symbol.for('react.profiler') : 0xead2;\nvar REACT_PROVIDER_TYPE = hasSymbol ? Symbol.for('react.provider') : 0xeacd;\nvar REACT_CONTEXT_TYPE = hasSymbol ? Symbol.for('react.context') : 0xeace; // TODO: We don't use AsyncMode or ConcurrentMode anymore. They were temporary\n// (unstable) APIs that have been removed. Can we remove the symbols?\n\nvar REACT_ASYNC_MODE_TYPE = hasSymbol ? Symbol.for('react.async_mode') : 0xeacf;\nvar REACT_CONCURRENT_MODE_TYPE = hasSymbol ? Symbol.for('react.concurrent_mode') : 0xeacf;\nvar REACT_FORWARD_REF_TYPE = hasSymbol ? Symbol.for('react.forward_ref') : 0xead0;\nvar REACT_SUSPENSE_TYPE = hasSymbol ? Symbol.for('react.suspense') : 0xead1;\nvar REACT_SUSPENSE_LIST_TYPE = hasSymbol ? Symbol.for('react.suspense_list') : 0xead8;\nvar REACT_MEMO_TYPE = hasSymbol ? Symbol.for('react.memo') : 0xead3;\nvar REACT_LAZY_TYPE = hasSymbol ? Symbol.for('react.lazy') : 0xead4;\nvar REACT_BLOCK_TYPE = hasSymbol ? Symbol.for('react.block') : 0xead9;\nvar REACT_FUNDAMENTAL_TYPE = hasSymbol ? Symbol.for('react.fundamental') : 0xead5;\nvar REACT_RESPONDER_TYPE = hasSymbol ? Symbol.for('react.responder') : 0xead6;\nvar REACT_SCOPE_TYPE = hasSymbol ? Symbol.for('react.scope') : 0xead7;\n\nfunction isValidElementType(type) {\n  return typeof type === 'string' || typeof type === 'function' || // Note: its typeof might be other than 'symbol' or 'number' if it's a polyfill.\n  type === REACT_FRAGMENT_TYPE || type === REACT_CONCURRENT_MODE_TYPE || type === REACT_PROFILER_TYPE || type === REACT_STRICT_MODE_TYPE || type === REACT_SUSPENSE_TYPE || type === REACT_SUSPENSE_LIST_TYPE || typeof type === 'object' && type !== null && (type.$$typeof === REACT_LAZY_TYPE || type.$$typeof === REACT_MEMO_TYPE || type.$$typeof === REACT_PROVIDER_TYPE || type.$$typeof === REACT_CONTEXT_TYPE || type.$$typeof === REACT_FORWARD_REF_TYPE || type.$$typeof === REACT_FUNDAMENTAL_TYPE || type.$$typeof === REACT_RESPONDER_TYPE || type.$$typeof === REACT_SCOPE_TYPE || type.$$typeof === REACT_BLOCK_TYPE);\n}\n\nfunction typeOf(object) {\n  if (typeof object === 'object' && object !== null) {\n    var $$typeof = object.$$typeof;\n\n    switch ($$typeof) {\n      case REACT_ELEMENT_TYPE:\n        var type = object.type;\n\n        switch (type) {\n          case REACT_ASYNC_MODE_TYPE:\n          case REACT_CONCURRENT_MODE_TYPE:\n          case REACT_FRAGMENT_TYPE:\n          case REACT_PROFILER_TYPE:\n          case REACT_STRICT_MODE_TYPE:\n          case REACT_SUSPENSE_TYPE:\n            return type;\n\n          default:\n            var $$typeofType = type && type.$$typeof;\n\n            switch ($$typeofType) {\n              case REACT_CONTEXT_TYPE:\n              case REACT_FORWARD_REF_TYPE:\n              case REACT_LAZY_TYPE:\n              case REACT_MEMO_TYPE:\n              case REACT_PROVIDER_TYPE:\n                return $$typeofType;\n\n              default:\n                return $$typeof;\n            }\n\n        }\n\n      case REACT_PORTAL_TYPE:\n        return $$typeof;\n    }\n  }\n\n  return undefined;\n} // AsyncMode is deprecated along with isAsyncMode\n\nvar AsyncMode = REACT_ASYNC_MODE_TYPE;\nvar ConcurrentMode = REACT_CONCURRENT_MODE_TYPE;\nvar ContextConsumer = REACT_CONTEXT_TYPE;\nvar ContextProvider = REACT_PROVIDER_TYPE;\nvar Element = REACT_ELEMENT_TYPE;\nvar ForwardRef = REACT_FORWARD_REF_TYPE;\nvar Fragment = REACT_FRAGMENT_TYPE;\nvar Lazy = REACT_LAZY_TYPE;\nvar Memo = REACT_MEMO_TYPE;\nvar Portal = REACT_PORTAL_TYPE;\nvar Profiler = REACT_PROFILER_TYPE;\nvar StrictMode = REACT_STRICT_MODE_TYPE;\nvar Suspense = REACT_SUSPENSE_TYPE;\nvar hasWarnedAboutDeprecatedIsAsyncMode = false; // AsyncMode should be deprecated\n\nfunction isAsyncMode(object) {\n  {\n    if (!hasWarnedAboutDeprecatedIsAsyncMode) {\n      hasWarnedAboutDeprecatedIsAsyncMode = true; // Using console['warn'] to evade Babel and ESLint\n\n      console['warn']('The ReactIs.isAsyncMode() alias has been deprecated, ' + 'and will be removed in React 17+. Update your code to use ' + 'ReactIs.isConcurrentMode() instead. It has the exact same API.');\n    }\n  }\n\n  return isConcurrentMode(object) || typeOf(object) === REACT_ASYNC_MODE_TYPE;\n}\nfunction isConcurrentMode(object) {\n  return typeOf(object) === REACT_CONCURRENT_MODE_TYPE;\n}\nfunction isContextConsumer(object) {\n  return typeOf(object) === REACT_CONTEXT_TYPE;\n}\nfunction isContextProvider(object) {\n  return typeOf(object) === REACT_PROVIDER_TYPE;\n}\nfunction isElement(object) {\n  return typeof object === 'object' && object !== null && object.$$typeof === REACT_ELEMENT_TYPE;\n}\nfunction isForwardRef(object) {\n  return typeOf(object) === REACT_FORWARD_REF_TYPE;\n}\nfunction isFragment(object) {\n  return typeOf(object) === REACT_FRAGMENT_TYPE;\n}\nfunction isLazy(object) {\n  return typeOf(object) === REACT_LAZY_TYPE;\n}\nfunction isMemo(object) {\n  return typeOf(object) === REACT_MEMO_TYPE;\n}\nfunction isPortal(object) {\n  return typeOf(object) === REACT_PORTAL_TYPE;\n}\nfunction isProfiler(object) {\n  return typeOf(object) === REACT_PROFILER_TYPE;\n}\nfunction isStrictMode(object) {\n  return typeOf(object) === REACT_STRICT_MODE_TYPE;\n}\nfunction isSuspense(object) {\n  return typeOf(object) === REACT_SUSPENSE_TYPE;\n}\n\nexports.AsyncMode = AsyncMode;\nexports.ConcurrentMode = ConcurrentMode;\nexports.ContextConsumer = ContextConsumer;\nexports.ContextProvider = ContextProvider;\nexports.Element = Element;\nexports.ForwardRef = ForwardRef;\nexports.Fragment = Fragment;\nexports.Lazy = Lazy;\nexports.Memo = Memo;\nexports.Portal = Portal;\nexports.Profiler = Profiler;\nexports.StrictMode = StrictMode;\nexports.Suspense = Suspense;\nexports.isAsyncMode = isAsyncMode;\nexports.isConcurrentMode = isConcurrentMode;\nexports.isContextConsumer = isContextConsumer;\nexports.isContextProvider = isContextProvider;\nexports.isElement = isElement;\nexports.isForwardRef = isForwardRef;\nexports.isFragment = isFragment;\nexports.isLazy = isLazy;\nexports.isMemo = isMemo;\nexports.isPortal = isPortal;\nexports.isProfiler = isProfiler;\nexports.isStrictMode = isStrictMode;\nexports.isSuspense = isSuspense;\nexports.isValidElementType = isValidElementType;\nexports.typeOf = typeOf;\n  })();\n}\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-is.production.min.js');\n} else {\n  module.exports = require('./cjs/react-is.development.js');\n}\n","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar printWarning = function() {};\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n  var loggedTypeFailures = {};\n  var has = Function.call.bind(Object.prototype.hasOwnProperty);\n\n  printWarning = function(text) {\n    var message = 'Warning: ' + text;\n    if (typeof console !== 'undefined') {\n      console.error(message);\n    }\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  };\n}\n\n/**\n * Assert that the values match with the type specs.\n * Error messages are memorized and will only be shown once.\n *\n * @param {object} typeSpecs Map of name to a ReactPropType\n * @param {object} values Runtime values that need to be type-checked\n * @param {string} location e.g. \"prop\", \"context\", \"child context\"\n * @param {string} componentName Name of the component for error messages.\n * @param {?Function} getStack Returns the component stack.\n * @private\n */\nfunction checkPropTypes(typeSpecs, values, location, componentName, getStack) {\n  if (process.env.NODE_ENV !== 'production') {\n    for (var typeSpecName in typeSpecs) {\n      if (has(typeSpecs, typeSpecName)) {\n        var error;\n        // Prop type validation may throw. In case they do, we don't want to\n        // fail the render phase where it didn't fail before. So we log it.\n        // After these have been cleaned up, we'll let them throw.\n        try {\n          // This is intentionally an invariant that gets caught. It's the same\n          // behavior as without this statement except with a better message.\n          if (typeof typeSpecs[typeSpecName] !== 'function') {\n            var err = Error(\n              (componentName || 'React class') + ': ' + location + ' type `' + typeSpecName + '` is invalid; ' +\n              'it must be a function, usually from the `prop-types` package, but received `' + typeof typeSpecs[typeSpecName] + '`.'\n            );\n            err.name = 'Invariant Violation';\n            throw err;\n          }\n          error = typeSpecs[typeSpecName](values, typeSpecName, componentName, location, null, ReactPropTypesSecret);\n        } catch (ex) {\n          error = ex;\n        }\n        if (error && !(error instanceof Error)) {\n          printWarning(\n            (componentName || 'React class') + ': type specification of ' +\n            location + ' `' + typeSpecName + '` is invalid; the type checker ' +\n            'function must return `null` or an `Error` but returned a ' + typeof error + '. ' +\n            'You may have forgotten to pass an argument to the type checker ' +\n            'creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and ' +\n            'shape all require an argument).'\n          );\n        }\n        if (error instanceof Error && !(error.message in loggedTypeFailures)) {\n          // Only monitor this failure once because there tends to be a lot of the\n          // same error.\n          loggedTypeFailures[error.message] = true;\n\n          var stack = getStack ? getStack() : '';\n\n          printWarning(\n            'Failed ' + location + ' type: ' + error.message + (stack != null ? stack : '')\n          );\n        }\n      }\n    }\n  }\n}\n\n/**\n * Resets warning cache when testing.\n *\n * @private\n */\ncheckPropTypes.resetWarningCache = function() {\n  if (process.env.NODE_ENV !== 'production') {\n    loggedTypeFailures = {};\n  }\n}\n\nmodule.exports = checkPropTypes;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactIs = require('react-is');\nvar assign = require('object-assign');\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\nvar checkPropTypes = require('./checkPropTypes');\n\nvar has = Function.call.bind(Object.prototype.hasOwnProperty);\nvar printWarning = function() {};\n\nif (process.env.NODE_ENV !== 'production') {\n  printWarning = function(text) {\n    var message = 'Warning: ' + text;\n    if (typeof console !== 'undefined') {\n      console.error(message);\n    }\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  };\n}\n\nfunction emptyFunctionThatReturnsNull() {\n  return null;\n}\n\nmodule.exports = function(isValidElement, throwOnDirectAccess) {\n  /* global Symbol */\n  var ITERATOR_SYMBOL = typeof Symbol === 'function' && Symbol.iterator;\n  var FAUX_ITERATOR_SYMBOL = '@@iterator'; // Before Symbol spec.\n\n  /**\n   * Returns the iterator method function contained on the iterable object.\n   *\n   * Be sure to invoke the function with the iterable as context:\n   *\n   *     var iteratorFn = getIteratorFn(myIterable);\n   *     if (iteratorFn) {\n   *       var iterator = iteratorFn.call(myIterable);\n   *       ...\n   *     }\n   *\n   * @param {?object} maybeIterable\n   * @return {?function}\n   */\n  function getIteratorFn(maybeIterable) {\n    var iteratorFn = maybeIterable && (ITERATOR_SYMBOL && maybeIterable[ITERATOR_SYMBOL] || maybeIterable[FAUX_ITERATOR_SYMBOL]);\n    if (typeof iteratorFn === 'function') {\n      return iteratorFn;\n    }\n  }\n\n  /**\n   * Collection of methods that allow declaration and validation of props that are\n   * supplied to React components. Example usage:\n   *\n   *   var Props = require('ReactPropTypes');\n   *   var MyArticle = React.createClass({\n   *     propTypes: {\n   *       // An optional string prop named \"description\".\n   *       description: Props.string,\n   *\n   *       // A required enum prop named \"category\".\n   *       category: Props.oneOf(['News','Photos']).isRequired,\n   *\n   *       // A prop named \"dialog\" that requires an instance of Dialog.\n   *       dialog: Props.instanceOf(Dialog).isRequired\n   *     },\n   *     render: function() { ... }\n   *   });\n   *\n   * A more formal specification of how these methods are used:\n   *\n   *   type := array|bool|func|object|number|string|oneOf([...])|instanceOf(...)\n   *   decl := ReactPropTypes.{type}(.isRequired)?\n   *\n   * Each and every declaration produces a function with the same signature. This\n   * allows the creation of custom validation functions. For example:\n   *\n   *  var MyLink = React.createClass({\n   *    propTypes: {\n   *      // An optional string or URI prop named \"href\".\n   *      href: function(props, propName, componentName) {\n   *        var propValue = props[propName];\n   *        if (propValue != null && typeof propValue !== 'string' &&\n   *            !(propValue instanceof URI)) {\n   *          return new Error(\n   *            'Expected a string or an URI for ' + propName + ' in ' +\n   *            componentName\n   *          );\n   *        }\n   *      }\n   *    },\n   *    render: function() {...}\n   *  });\n   *\n   * @internal\n   */\n\n  var ANONYMOUS = '<<anonymous>>';\n\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithThrowingShims.js`.\n  var ReactPropTypes = {\n    array: createPrimitiveTypeChecker('array'),\n    bool: createPrimitiveTypeChecker('boolean'),\n    func: createPrimitiveTypeChecker('function'),\n    number: createPrimitiveTypeChecker('number'),\n    object: createPrimitiveTypeChecker('object'),\n    string: createPrimitiveTypeChecker('string'),\n    symbol: createPrimitiveTypeChecker('symbol'),\n\n    any: createAnyTypeChecker(),\n    arrayOf: createArrayOfTypeChecker,\n    element: createElementTypeChecker(),\n    elementType: createElementTypeTypeChecker(),\n    instanceOf: createInstanceTypeChecker,\n    node: createNodeChecker(),\n    objectOf: createObjectOfTypeChecker,\n    oneOf: createEnumTypeChecker,\n    oneOfType: createUnionTypeChecker,\n    shape: createShapeTypeChecker,\n    exact: createStrictShapeTypeChecker,\n  };\n\n  /**\n   * inlined Object.is polyfill to avoid requiring consumers ship their own\n   * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\n   */\n  /*eslint-disable no-self-compare*/\n  function is(x, y) {\n    // SameValue algorithm\n    if (x === y) {\n      // Steps 1-5, 7-10\n      // Steps 6.b-6.e: +0 != -0\n      return x !== 0 || 1 / x === 1 / y;\n    } else {\n      // Step 6.a: NaN == NaN\n      return x !== x && y !== y;\n    }\n  }\n  /*eslint-enable no-self-compare*/\n\n  /**\n   * We use an Error-like object for backward compatibility as people may call\n   * PropTypes directly and inspect their output. However, we don't use real\n   * Errors anymore. We don't inspect their stack anyway, and creating them\n   * is prohibitively expensive if they are created too often, such as what\n   * happens in oneOfType() for any type before the one that matched.\n   */\n  function PropTypeError(message) {\n    this.message = message;\n    this.stack = '';\n  }\n  // Make `instanceof Error` still work for returned errors.\n  PropTypeError.prototype = Error.prototype;\n\n  function createChainableTypeChecker(validate) {\n    if (process.env.NODE_ENV !== 'production') {\n      var manualPropTypeCallCache = {};\n      var manualPropTypeWarningCount = 0;\n    }\n    function checkType(isRequired, props, propName, componentName, location, propFullName, secret) {\n      componentName = componentName || ANONYMOUS;\n      propFullName = propFullName || propName;\n\n      if (secret !== ReactPropTypesSecret) {\n        if (throwOnDirectAccess) {\n          // New behavior only for users of `prop-types` package\n          var err = new Error(\n            'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n            'Use `PropTypes.checkPropTypes()` to call them. ' +\n            'Read more at http://fb.me/use-check-prop-types'\n          );\n          err.name = 'Invariant Violation';\n          throw err;\n        } else if (process.env.NODE_ENV !== 'production' && typeof console !== 'undefined') {\n          // Old behavior for people using React.PropTypes\n          var cacheKey = componentName + ':' + propName;\n          if (\n            !manualPropTypeCallCache[cacheKey] &&\n            // Avoid spamming the console because they are often not actionable except for lib authors\n            manualPropTypeWarningCount < 3\n          ) {\n            printWarning(\n              'You are manually calling a React.PropTypes validation ' +\n              'function for the `' + propFullName + '` prop on `' + componentName  + '`. This is deprecated ' +\n              'and will throw in the standalone `prop-types` package. ' +\n              'You may be seeing this warning due to a third-party PropTypes ' +\n              'library. See https://fb.me/react-warning-dont-call-proptypes ' + 'for details.'\n            );\n            manualPropTypeCallCache[cacheKey] = true;\n            manualPropTypeWarningCount++;\n          }\n        }\n      }\n      if (props[propName] == null) {\n        if (isRequired) {\n          if (props[propName] === null) {\n            return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required ' + ('in `' + componentName + '`, but its value is `null`.'));\n          }\n          return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required in ' + ('`' + componentName + '`, but its value is `undefined`.'));\n        }\n        return null;\n      } else {\n        return validate(props, propName, componentName, location, propFullName);\n      }\n    }\n\n    var chainedCheckType = checkType.bind(null, false);\n    chainedCheckType.isRequired = checkType.bind(null, true);\n\n    return chainedCheckType;\n  }\n\n  function createPrimitiveTypeChecker(expectedType) {\n    function validate(props, propName, componentName, location, propFullName, secret) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== expectedType) {\n        // `propValue` being instance of, say, date/regexp, pass the 'object'\n        // check, but we can offer a more precise error message here rather than\n        // 'of type `object`'.\n        var preciseType = getPreciseType(propValue);\n\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + preciseType + '` supplied to `' + componentName + '`, expected ') + ('`' + expectedType + '`.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createAnyTypeChecker() {\n    return createChainableTypeChecker(emptyFunctionThatReturnsNull);\n  }\n\n  function createArrayOfTypeChecker(typeChecker) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (typeof typeChecker !== 'function') {\n        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside arrayOf.');\n      }\n      var propValue = props[propName];\n      if (!Array.isArray(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an array.'));\n      }\n      for (var i = 0; i < propValue.length; i++) {\n        var error = typeChecker(propValue, i, componentName, location, propFullName + '[' + i + ']', ReactPropTypesSecret);\n        if (error instanceof Error) {\n          return error;\n        }\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createElementTypeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      if (!isValidElement(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected a single ReactElement.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createElementTypeTypeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      if (!ReactIs.isValidElementType(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected a single ReactElement type.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createInstanceTypeChecker(expectedClass) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (!(props[propName] instanceof expectedClass)) {\n        var expectedClassName = expectedClass.name || ANONYMOUS;\n        var actualClassName = getClassName(props[propName]);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + actualClassName + '` supplied to `' + componentName + '`, expected ') + ('instance of `' + expectedClassName + '`.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createEnumTypeChecker(expectedValues) {\n    if (!Array.isArray(expectedValues)) {\n      if (process.env.NODE_ENV !== 'production') {\n        if (arguments.length > 1) {\n          printWarning(\n            'Invalid arguments supplied to oneOf, expected an array, got ' + arguments.length + ' arguments. ' +\n            'A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z]).'\n          );\n        } else {\n          printWarning('Invalid argument supplied to oneOf, expected an array.');\n        }\n      }\n      return emptyFunctionThatReturnsNull;\n    }\n\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      for (var i = 0; i < expectedValues.length; i++) {\n        if (is(propValue, expectedValues[i])) {\n          return null;\n        }\n      }\n\n      var valuesString = JSON.stringify(expectedValues, function replacer(key, value) {\n        var type = getPreciseType(value);\n        if (type === 'symbol') {\n          return String(value);\n        }\n        return value;\n      });\n      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of value `' + String(propValue) + '` ' + ('supplied to `' + componentName + '`, expected one of ' + valuesString + '.'));\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createObjectOfTypeChecker(typeChecker) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (typeof typeChecker !== 'function') {\n        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside objectOf.');\n      }\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an object.'));\n      }\n      for (var key in propValue) {\n        if (has(propValue, key)) {\n          var error = typeChecker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n          if (error instanceof Error) {\n            return error;\n          }\n        }\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createUnionTypeChecker(arrayOfTypeCheckers) {\n    if (!Array.isArray(arrayOfTypeCheckers)) {\n      process.env.NODE_ENV !== 'production' ? printWarning('Invalid argument supplied to oneOfType, expected an instance of array.') : void 0;\n      return emptyFunctionThatReturnsNull;\n    }\n\n    for (var i = 0; i < arrayOfTypeCheckers.length; i++) {\n      var checker = arrayOfTypeCheckers[i];\n      if (typeof checker !== 'function') {\n        printWarning(\n          'Invalid argument supplied to oneOfType. Expected an array of check functions, but ' +\n          'received ' + getPostfixForTypeWarning(checker) + ' at index ' + i + '.'\n        );\n        return emptyFunctionThatReturnsNull;\n      }\n    }\n\n    function validate(props, propName, componentName, location, propFullName) {\n      for (var i = 0; i < arrayOfTypeCheckers.length; i++) {\n        var checker = arrayOfTypeCheckers[i];\n        if (checker(props, propName, componentName, location, propFullName, ReactPropTypesSecret) == null) {\n          return null;\n        }\n      }\n\n      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`.'));\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createNodeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (!isNode(props[propName])) {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`, expected a ReactNode.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createShapeTypeChecker(shapeTypes) {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));\n      }\n      for (var key in shapeTypes) {\n        var checker = shapeTypes[key];\n        if (!checker) {\n          continue;\n        }\n        var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n        if (error) {\n          return error;\n        }\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createStrictShapeTypeChecker(shapeTypes) {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));\n      }\n      // We need to check all keys in case some are required but missing from\n      // props.\n      var allKeys = assign({}, props[propName], shapeTypes);\n      for (var key in allKeys) {\n        var checker = shapeTypes[key];\n        if (!checker) {\n          return new PropTypeError(\n            'Invalid ' + location + ' `' + propFullName + '` key `' + key + '` supplied to `' + componentName + '`.' +\n            '\\nBad object: ' + JSON.stringify(props[propName], null, '  ') +\n            '\\nValid keys: ' +  JSON.stringify(Object.keys(shapeTypes), null, '  ')\n          );\n        }\n        var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n        if (error) {\n          return error;\n        }\n      }\n      return null;\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function isNode(propValue) {\n    switch (typeof propValue) {\n      case 'number':\n      case 'string':\n      case 'undefined':\n        return true;\n      case 'boolean':\n        return !propValue;\n      case 'object':\n        if (Array.isArray(propValue)) {\n          return propValue.every(isNode);\n        }\n        if (propValue === null || isValidElement(propValue)) {\n          return true;\n        }\n\n        var iteratorFn = getIteratorFn(propValue);\n        if (iteratorFn) {\n          var iterator = iteratorFn.call(propValue);\n          var step;\n          if (iteratorFn !== propValue.entries) {\n            while (!(step = iterator.next()).done) {\n              if (!isNode(step.value)) {\n                return false;\n              }\n            }\n          } else {\n            // Iterator will provide entry [k,v] tuples rather than values.\n            while (!(step = iterator.next()).done) {\n              var entry = step.value;\n              if (entry) {\n                if (!isNode(entry[1])) {\n                  return false;\n                }\n              }\n            }\n          }\n        } else {\n          return false;\n        }\n\n        return true;\n      default:\n        return false;\n    }\n  }\n\n  function isSymbol(propType, propValue) {\n    // Native Symbol.\n    if (propType === 'symbol') {\n      return true;\n    }\n\n    // falsy value can't be a Symbol\n    if (!propValue) {\n      return false;\n    }\n\n    // 19.4.3.5 Symbol.prototype[@@toStringTag] === 'Symbol'\n    if (propValue['@@toStringTag'] === 'Symbol') {\n      return true;\n    }\n\n    // Fallback for non-spec compliant Symbols which are polyfilled.\n    if (typeof Symbol === 'function' && propValue instanceof Symbol) {\n      return true;\n    }\n\n    return false;\n  }\n\n  // Equivalent of `typeof` but with special handling for array and regexp.\n  function getPropType(propValue) {\n    var propType = typeof propValue;\n    if (Array.isArray(propValue)) {\n      return 'array';\n    }\n    if (propValue instanceof RegExp) {\n      // Old webkits (at least until Android 4.0) return 'function' rather than\n      // 'object' for typeof a RegExp. We'll normalize this here so that /bla/\n      // passes PropTypes.object.\n      return 'object';\n    }\n    if (isSymbol(propType, propValue)) {\n      return 'symbol';\n    }\n    return propType;\n  }\n\n  // This handles more types than `getPropType`. Only used for error messages.\n  // See `createPrimitiveTypeChecker`.\n  function getPreciseType(propValue) {\n    if (typeof propValue === 'undefined' || propValue === null) {\n      return '' + propValue;\n    }\n    var propType = getPropType(propValue);\n    if (propType === 'object') {\n      if (propValue instanceof Date) {\n        return 'date';\n      } else if (propValue instanceof RegExp) {\n        return 'regexp';\n      }\n    }\n    return propType;\n  }\n\n  // Returns a string that is postfixed to a warning about an invalid type.\n  // For example, \"undefined\" or \"of type array\"\n  function getPostfixForTypeWarning(value) {\n    var type = getPreciseType(value);\n    switch (type) {\n      case 'array':\n      case 'object':\n        return 'an ' + type;\n      case 'boolean':\n      case 'date':\n      case 'regexp':\n        return 'a ' + type;\n      default:\n        return type;\n    }\n  }\n\n  // Returns class name of the object, if any.\n  function getClassName(propValue) {\n    if (!propValue.constructor || !propValue.constructor.name) {\n      return ANONYMOUS;\n    }\n    return propValue.constructor.name;\n  }\n\n  ReactPropTypes.checkPropTypes = checkPropTypes;\n  ReactPropTypes.resetWarningCache = checkPropTypes.resetWarningCache;\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","export var canUseDOM = !!(typeof window !== 'undefined' && window.document && window.document.createElement);","var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport ReactDOM from 'react-dom';\nimport { canUseDOM } from './utils';\n\nvar Portal = function (_React$Component) {\n  _inherits(Portal, _React$Component);\n\n  function Portal() {\n    _classCallCheck(this, Portal);\n\n    return _possibleConstructorReturn(this, (Portal.__proto__ || Object.getPrototypeOf(Portal)).apply(this, arguments));\n  }\n\n  _createClass(Portal, [{\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      if (this.defaultNode) {\n        document.body.removeChild(this.defaultNode);\n      }\n      this.defaultNode = null;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      if (!canUseDOM) {\n        return null;\n      }\n      if (!this.props.node && !this.defaultNode) {\n        this.defaultNode = document.createElement('div');\n        document.body.appendChild(this.defaultNode);\n      }\n      return ReactDOM.createPortal(this.props.children, this.props.node || this.defaultNode);\n    }\n  }]);\n\n  return Portal;\n}(React.Component);\n\nPortal.propTypes = {\n  children: PropTypes.node.isRequired,\n  node: PropTypes.any\n};\n\nexport default Portal;","var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n// This file is a fallback for a consumer who is not yet on React 16\n// as createPortal was introduced in React 16\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\n\nvar Portal = function (_React$Component) {\n  _inherits(Portal, _React$Component);\n\n  function Portal() {\n    _classCallCheck(this, Portal);\n\n    return _possibleConstructorReturn(this, (Portal.__proto__ || Object.getPrototypeOf(Portal)).apply(this, arguments));\n  }\n\n  _createClass(Portal, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.renderPortal();\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(props) {\n      this.renderPortal();\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      ReactDOM.unmountComponentAtNode(this.defaultNode || this.props.node);\n      if (this.defaultNode) {\n        document.body.removeChild(this.defaultNode);\n      }\n      this.defaultNode = null;\n      this.portal = null;\n    }\n  }, {\n    key: 'renderPortal',\n    value: function renderPortal(props) {\n      if (!this.props.node && !this.defaultNode) {\n        this.defaultNode = document.createElement('div');\n        document.body.appendChild(this.defaultNode);\n      }\n\n      var children = this.props.children;\n      // https://gist.github.com/jimfb/d99e0678e9da715ccf6454961ef04d1b\n      if (typeof this.props.children.type === 'function') {\n        children = React.cloneElement(this.props.children);\n      }\n\n      this.portal = ReactDOM.unstable_renderSubtreeIntoContainer(this, children, this.props.node || this.defaultNode);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return null;\n    }\n  }]);\n\n  return Portal;\n}(React.Component);\n\nexport default Portal;\n\n\nPortal.propTypes = {\n  children: PropTypes.node.isRequired,\n  node: PropTypes.any\n};","import ReactDOM from 'react-dom';\n\nimport Portalv4 from './Portal';\nimport LegacyPortal from './LegacyPortal';\n\nvar Portal = void 0;\n\nif (ReactDOM.createPortal) {\n  Portal = Portalv4;\n} else {\n  Portal = LegacyPortal;\n}\n\nexport default Portal;","var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport Portal from './PortalCompat';\n\nvar KEYCODES = {\n  ESCAPE: 27\n};\n\nvar PortalWithState = function (_React$Component) {\n  _inherits(PortalWithState, _React$Component);\n\n  function PortalWithState(props) {\n    _classCallCheck(this, PortalWithState);\n\n    var _this = _possibleConstructorReturn(this, (PortalWithState.__proto__ || Object.getPrototypeOf(PortalWithState)).call(this, props));\n\n    _this.portalNode = null;\n    _this.state = { active: !!props.defaultOpen };\n    _this.openPortal = _this.openPortal.bind(_this);\n    _this.closePortal = _this.closePortal.bind(_this);\n    _this.wrapWithPortal = _this.wrapWithPortal.bind(_this);\n    _this.handleOutsideMouseClick = _this.handleOutsideMouseClick.bind(_this);\n    _this.handleKeydown = _this.handleKeydown.bind(_this);\n    return _this;\n  }\n\n  _createClass(PortalWithState, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      if (this.props.closeOnEsc) {\n        document.addEventListener('keydown', this.handleKeydown);\n      }\n      if (this.props.closeOnOutsideClick) {\n        document.addEventListener('click', this.handleOutsideMouseClick);\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      if (this.props.closeOnEsc) {\n        document.removeEventListener('keydown', this.handleKeydown);\n      }\n      if (this.props.closeOnOutsideClick) {\n        document.removeEventListener('click', this.handleOutsideMouseClick);\n      }\n    }\n  }, {\n    key: 'openPortal',\n    value: function openPortal(e) {\n      if (this.state.active) {\n        return;\n      }\n      if (e && e.nativeEvent) {\n        e.nativeEvent.stopImmediatePropagation();\n      }\n      this.setState({ active: true }, this.props.onOpen);\n    }\n  }, {\n    key: 'closePortal',\n    value: function closePortal() {\n      if (!this.state.active) {\n        return;\n      }\n      this.setState({ active: false }, this.props.onClose);\n    }\n  }, {\n    key: 'wrapWithPortal',\n    value: function wrapWithPortal(children) {\n      var _this2 = this;\n\n      if (!this.state.active) {\n        return null;\n      }\n      return React.createElement(\n        Portal,\n        {\n          node: this.props.node,\n          key: 'react-portal',\n          ref: function ref(portalNode) {\n            return _this2.portalNode = portalNode;\n          }\n        },\n        children\n      );\n    }\n  }, {\n    key: 'handleOutsideMouseClick',\n    value: function handleOutsideMouseClick(e) {\n      if (!this.state.active) {\n        return;\n      }\n      var root = this.portalNode && (this.portalNode.props.node || this.portalNode.defaultNode);\n      if (!root || root.contains(e.target) || e.button && e.button !== 0) {\n        return;\n      }\n      this.closePortal();\n    }\n  }, {\n    key: 'handleKeydown',\n    value: function handleKeydown(e) {\n      if (e.keyCode === KEYCODES.ESCAPE && this.state.active) {\n        this.closePortal();\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return this.props.children({\n        openPortal: this.openPortal,\n        closePortal: this.closePortal,\n        portal: this.wrapWithPortal,\n        isOpen: this.state.active\n      });\n    }\n  }]);\n\n  return PortalWithState;\n}(React.Component);\n\nPortalWithState.propTypes = {\n  children: PropTypes.func.isRequired,\n  defaultOpen: PropTypes.bool,\n  node: PropTypes.any,\n  closeOnEsc: PropTypes.bool,\n  closeOnOutsideClick: PropTypes.bool,\n  onOpen: PropTypes.func,\n  onClose: PropTypes.func\n};\n\nPortalWithState.defaultProps = {\n  onOpen: function onOpen() {},\n  onClose: function onClose() {}\n};\n\nexport default PortalWithState;","/**\n * The base implementation of `_.clamp` which doesn't coerce arguments.\n *\n * @private\n * @param {number} number The number to clamp.\n * @param {number} [lower] The lower bound.\n * @param {number} upper The upper bound.\n * @returns {number} Returns the clamped number.\n */\nfunction baseClamp(number, lower, upper) {\n  if (number === number) {\n    if (upper !== undefined) {\n      number = number <= upper ? number : upper;\n    }\n    if (lower !== undefined) {\n      number = number >= lower ? number : lower;\n    }\n  }\n  return number;\n}\n\nmodule.exports = baseClamp;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nmodule.exports = isSymbol;\n","var isObject = require('./isObject'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = toNumber;\n","var baseClamp = require('./_baseClamp'),\n    toNumber = require('./toNumber');\n\n/**\n * Clamps `number` within the inclusive `lower` and `upper` bounds.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Number\n * @param {number} number The number to clamp.\n * @param {number} [lower] The lower bound.\n * @param {number} upper The upper bound.\n * @returns {number} Returns the clamped number.\n * @example\n *\n * _.clamp(-10, -5, 5);\n * // => -5\n *\n * _.clamp(10, -5, 5);\n * // => 5\n */\nfunction clamp(number, lower, upper) {\n  if (upper === undefined) {\n    upper = lower;\n    lower = undefined;\n  }\n  if (upper !== undefined) {\n    upper = toNumber(upper);\n    upper = upper === upper ? upper : 0;\n  }\n  if (lower !== undefined) {\n    lower = toNumber(lower);\n    lower = lower === lower ? lower : 0;\n  }\n  return baseClamp(toNumber(number), lower, upper);\n}\n\nmodule.exports = clamp;\n","// This alphabet uses a-z A-Z 0-9 _- symbols.\n// Symbols are generated for smaller size.\n// -_zyxwvutsrqponmlkjihgfedcba9876543210ZYXWVUTSRQPONMLKJIHGFEDCBA\nvar url = '-_'\n// Loop from 36 to 0 (from z to a and 9 to 0 in Base36).\nvar i = 36\nwhile (i--) {\n  // 36 is radix. Number.prototype.toString(36) returns number\n  // in Base36 representation. Base36 is like hex, but it uses 0–9 and a-z.\n  url += i.toString(36)\n}\n// Loop from 36 to 10 (from Z to A in Base36).\ni = 36\nwhile (i-- - 10) {\n  url += i.toString(36).toUpperCase()\n}\n\n/**\n * Generate URL-friendly unique ID. This method use non-secure predictable\n * random generator with bigger collision probability.\n *\n * @param {number} [size=21] The number of symbols in ID.\n *\n * @return {string} Random string.\n *\n * @example\n * const nanoid = require('nanoid/non-secure')\n * model.id = nanoid() //=> \"Uakgb_J5m9g-0JDMbcJqL\"\n *\n * @name nonSecure\n * @function\n */\nmodule.exports = function (size) {\n  var id = ''\n  i = size || 21\n  // Compact alternative for `for (var i = 0; i < size; i++)`\n  while (i--) {\n    // `| 0` is compact and faster alternative for `Math.floor()`\n    id += url[Math.random() * 64 | 0]\n  }\n  return id\n}\n","import React from \"react\";\r\nimport styles from \"./ContextMenu.css\";\r\nimport clamp from \"lodash/clamp\";\r\nimport nanoid from \"nanoid/non-secure/index\";\r\n\r\nconst ContextMenu = ({\r\n  x,\r\n  y,\r\n  options = [],\r\n  onRequestClose,\r\n  onOptionSelected,\r\n  label,\r\n  hideHeader,\r\n  hideFilter,\r\n  emptyText\r\n}) => {\r\n  const menuWrapper = React.useRef();\r\n  const menuOptionsWrapper = React.useRef();\r\n  const filterInput = React.useRef();\r\n  const [filter, setFilter] = React.useState(\"\");\r\n  const [menuWidth, setMenuWidth] = React.useState(0);\r\n  const [selectedIndex, setSelectedIndex] = React.useState(0);\r\n  const menuId = React.useRef(nanoid(10));\r\n\r\n  const handleOptionSelected = option => {\r\n    onOptionSelected(option);\r\n    onRequestClose();\r\n  };\r\n\r\n  const testClickOutside = React.useCallback(\r\n    e => {\r\n      if (menuWrapper.current && !menuWrapper.current.contains(e.target)) {\r\n        onRequestClose();\r\n        document.removeEventListener(\"click\", testClickOutside, { capture: true });\r\n        document.removeEventListener(\"contextmenu\", testClickOutside, { capture: true });\r\n      }\r\n    },\r\n    [menuWrapper, onRequestClose]\r\n  );\r\n\r\n  const testEscape = React.useCallback(\r\n    e => {\r\n      if (e.keyCode === 27) {\r\n        onRequestClose();\r\n        document.removeEventListener(\"keydown\", testEscape, { capture: true });\r\n      }\r\n    },\r\n    [onRequestClose]\r\n  );\r\n\r\n  React.useEffect(() => {\r\n    if (filterInput.current) {\r\n      filterInput.current.focus();\r\n    }\r\n    setMenuWidth(menuWrapper.current.getBoundingClientRect().width);\r\n    document.addEventListener(\"keydown\", testEscape, { capture: true });\r\n    document.addEventListener(\"click\", testClickOutside, { capture: true });\r\n    document.addEventListener(\"contextmenu\", testClickOutside, { capture: true });\r\n    return () => {\r\n      document.removeEventListener(\"click\", testClickOutside, { capture: true });\r\n      document.removeEventListener(\"contextmenu\", testClickOutside, { capture: true });\r\n      document.removeEventListener(\"keydown\", testEscape, { capture: true });\r\n    };\r\n  }, [testClickOutside, testEscape]);\r\n\r\n  const filteredOptions = React.useMemo(() => {\r\n    if (!filter) return options;\r\n    const lowerFilter = filter.toLowerCase();\r\n    return options.filter(opt => opt.label.toLowerCase().includes(lowerFilter));\r\n  }, [filter, options]);\r\n\r\n  const handleFilterChange = e => {\r\n    const value = e.target.value;\r\n    setFilter(value);\r\n    setSelectedIndex(0);\r\n  };\r\n\r\n  const handleKeyDown = e => {\r\n    // Up pressed\r\n    if (e.which === 38) {\r\n      e.preventDefault();\r\n      if (selectedIndex === null) {\r\n        setSelectedIndex(0);\r\n      } else if (selectedIndex > 0) {\r\n        setSelectedIndex(i => i - 1);\r\n      }\r\n    }\r\n    // Down pressed\r\n    if (e.which === 40) {\r\n      e.preventDefault();\r\n      if (selectedIndex === null) {\r\n        setSelectedIndex(0);\r\n      } else if (selectedIndex < filteredOptions.length - 1) {\r\n        setSelectedIndex(i => i + 1);\r\n      }\r\n    }\r\n    // Enter pressed\r\n    if (e.which === 13 && selectedIndex !== null) {\r\n      const option = filteredOptions[selectedIndex];\r\n      if (option) {\r\n        handleOptionSelected(option);\r\n      }\r\n    }\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    if (hideFilter || hideHeader) {\r\n      menuWrapper.current.focus();\r\n    }\r\n  }, [hideFilter, hideHeader]);\r\n\r\n  React.useEffect(() => {\r\n    const menuOption = document.getElementById(\r\n      `${menuId.current}-${selectedIndex}`\r\n    );\r\n    if (menuOption) {\r\n      const menuRect = menuOptionsWrapper.current.getBoundingClientRect();\r\n      const optionRect = menuOption.getBoundingClientRect();\r\n      if (\r\n        optionRect.y + optionRect.height > menuRect.y + menuRect.height ||\r\n        optionRect.y < menuRect.y\r\n      ) {\r\n        menuOption.scrollIntoView({ block: \"nearest\" });\r\n      }\r\n    }\r\n  }, [selectedIndex]);\r\n\r\n  return (\r\n    <div\r\n      className={styles.menuWrapper}\r\n      onMouseDown={e => e.stopPropagation()}\r\n      onKeyDown={handleKeyDown}\r\n      style={{\r\n        left: x,\r\n        top: y,\r\n        width: filter ? menuWidth : \"auto\"\r\n      }}\r\n      ref={menuWrapper}\r\n      tabIndex={0}\r\n      role=\"menu\"\r\n      aria-activedescendant={`${menuId.current}-${selectedIndex}`}\r\n    >\r\n      {!hideHeader && (label ? true : !!options.length) ? (\r\n        <div className={styles.menuHeader}>\r\n          <label className={styles.menuLabel}>{label}</label>\r\n          {!hideFilter && options.length ? (\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Filter options\"\r\n              value={filter}\r\n              onChange={handleFilterChange}\r\n              className={styles.menuFilter}\r\n              autoFocus\r\n              ref={filterInput}\r\n            />\r\n          ) : null}\r\n        </div>\r\n      ) : null}\r\n      <div\r\n        className={styles.optionsWrapper}\r\n        role=\"menu\"\r\n        ref={menuOptionsWrapper}\r\n        style={{ maxHeight: clamp(window.innerHeight - y - 70, 10, 300) }}\r\n      >\r\n        {filteredOptions.map((option, i) => (\r\n          <ContextOption\r\n            menuId={menuId.current}\r\n            selected={selectedIndex === i}\r\n            onClick={() => handleOptionSelected(option)}\r\n            onMouseEnter={() => setSelectedIndex(null)}\r\n            index={i}\r\n            key={option.value + i}\r\n          >\r\n            <label>{option.label}</label>\r\n            {option.description ? <p>{option.description}</p> : null}\r\n          </ContextOption>\r\n        ))}\r\n        {!options.length ? (\r\n          <span className={styles.emptyText}>{emptyText}</span>\r\n        ) : null}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst ContextOption = ({\r\n  menuId,\r\n  index,\r\n  children,\r\n  onClick,\r\n  selected,\r\n  onMouseEnter\r\n}) => {\r\n  return (\r\n    <div\r\n      className={styles.option}\r\n      role=\"menuitem\"\r\n      onClick={onClick}\r\n      onMouseEnter={onMouseEnter}\r\n      data-selected={selected}\r\n      id={`${menuId}-${index}`}\r\n    >\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ContextMenu;\r\n","import React from 'react'\r\n\r\nexport const NodeTypesContext = React.createContext()\r\nexport const PortTypesContext = React.createContext()\r\nexport const NodeDispatchContext = React.createContext()\r\nexport const ConnectionRecalculateContext = React.createContext()\r\nexport const ContextContext = React.createContext()\r\nexport const StageContext = React.createContext()\r\nexport const CacheContext = React.createContext()\r\nexport const RecalculateStageRectContext = React.createContext()\r\nexport const EditorIdContext = React.createContext()\r\n","import React from \"react\";\r\n\r\nexport default ({\r\n  children,\r\n  stageState,\r\n  stageRect,\r\n  onDragDelayStart,\r\n  onDragStart,\r\n  onDrag,\r\n  onDragEnd,\r\n  onMouseDown,\r\n  onTouchStart,\r\n  disabled,\r\n  delay = 6,\r\n  innerRef,\r\n  ...rest\r\n}) => {\r\n  const startCoordinates = React.useRef(null);\r\n  const offset = React.useRef();\r\n  const wrapper = React.useRef();\r\n\r\n  const byScale = value => (1 / stageState.scale) * value;\r\n\r\n  const getScaledCoordinates = e => {\r\n    const x =\r\n      byScale(\r\n        e.clientX -\r\n          (stageRect ? stageRect.current.left : 0) -\r\n          offset.current.x -\r\n          (stageRect ? stageRect.current.width : 0) / 2\r\n      ) + byScale(stageState.translate.x);\r\n    const y =\r\n      byScale(\r\n        e.clientY -\r\n          (stageRect ? stageRect.current.top : 0) -\r\n          offset.current.y -\r\n          (stageRect ? stageRect.current.height : 0) / 2\r\n      ) + byScale(stageState.translate.y);\r\n    return { x, y };\r\n  };\r\n\r\n  const updateCoordinates = e => {\r\n    const coordinates = getScaledCoordinates(e);\r\n    if (onDrag) {\r\n      onDrag(coordinates, e);\r\n    }\r\n  };\r\n\r\n  const stopDrag = e => {\r\n    const coordinates = getScaledCoordinates(e);\r\n    if (onDragEnd) {\r\n      onDragEnd(e, coordinates);\r\n    }\r\n    window.removeEventListener(\"mouseup\", stopDrag);\r\n    window.removeEventListener(\"mousemove\", updateCoordinates);\r\n  };\r\n\r\n  const startDrag = e => {\r\n    if (onDragStart) {\r\n      onDragStart(e);\r\n    }\r\n    const nodeRect = wrapper.current.getBoundingClientRect();\r\n    offset.current = {\r\n      x: startCoordinates.current.x - nodeRect.left,\r\n      y: startCoordinates.current.y - nodeRect.top\r\n    };\r\n    window.addEventListener(\"mouseup\", stopDrag);\r\n    window.addEventListener(\"mousemove\", updateCoordinates);\r\n  };\r\n\r\n  const checkDragDelay = e => {\r\n    let x;\r\n    let y;\r\n    if (\"ontouchstart\" in window && e.touches) {\r\n      x = e.touches[0].clientX;\r\n      y = e.touches[0].clientY;\r\n    } else {\r\n      e.preventDefault();\r\n      x = e.clientX;\r\n      y = e.clientY;\r\n    }\r\n    let a = Math.abs(startCoordinates.current.x - x);\r\n    let b = Math.abs(startCoordinates.current.y - y);\r\n    let distance = Math.round(Math.sqrt(Math.pow(a, 2) + Math.pow(b, 2)));\r\n    let dragDistance = delay;\r\n    if (distance >= dragDistance) {\r\n      startDrag(e);\r\n      endDragDelay();\r\n    }\r\n  };\r\n\r\n  const endDragDelay = () => {\r\n    document.removeEventListener(\"mouseup\", endDragDelay);\r\n    document.removeEventListener(\"mousemove\", checkDragDelay);\r\n    startCoordinates.current = null;\r\n  };\r\n\r\n  const startDragDelay = e => {\r\n    if (onDragDelayStart) {\r\n      onDragDelayStart(e);\r\n    }\r\n    e.stopPropagation();\r\n    let x;\r\n    let y;\r\n    if (\"ontouchstart\" in window && e.touches) {\r\n      x = e.touches[0].clientX;\r\n      y = e.touches[0].clientY;\r\n    } else {\r\n      e.preventDefault();\r\n      x = e.clientX;\r\n      y = e.clientY;\r\n    }\r\n    startCoordinates.current = { x, y };\r\n    document.addEventListener(\"mouseup\", endDragDelay);\r\n    document.addEventListener(\"mousemove\", checkDragDelay);\r\n  };\r\n\r\n  return (\r\n    <div\r\n      onMouseDown={e => {\r\n        if (!disabled) {\r\n          startDragDelay(e);\r\n        }\r\n        if (onMouseDown) {\r\n          onMouseDown(e);\r\n        }\r\n      }}\r\n      onTouchStart={e => {\r\n        if (!disabled) {\r\n          startDragDelay(e);\r\n        }\r\n        if (onTouchStart) {\r\n          onTouchStart(e);\r\n        }\r\n      }}\r\n      onDragStart={e => {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n      }}\r\n      ref={ref => {\r\n        wrapper.current = ref;\r\n        if (innerRef) {\r\n          innerRef.current = ref;\r\n        }\r\n      }}\r\n      {...rest}\r\n    >\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n","/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\nmodule.exports = arrayMap;\n","/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\nmodule.exports = listCacheClear;\n","/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nmodule.exports = eq;\n","var eq = require('./eq');\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = assocIndexOf;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\nmodule.exports = listCacheDelete;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nmodule.exports = listCacheGet;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\nmodule.exports = listCacheHas;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\nmodule.exports = listCacheSet;\n","var listCacheClear = require('./_listCacheClear'),\n    listCacheDelete = require('./_listCacheDelete'),\n    listCacheGet = require('./_listCacheGet'),\n    listCacheHas = require('./_listCacheHas'),\n    listCacheSet = require('./_listCacheSet');\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\nmodule.exports = ListCache;\n","var ListCache = require('./_ListCache');\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\nmodule.exports = stackClear;\n","/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\nmodule.exports = stackDelete;\n","/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\nmodule.exports = stackGet;\n","/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\nmodule.exports = stackHas;\n","var baseGetTag = require('./_baseGetTag'),\n    isObject = require('./isObject');\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nmodule.exports = isFunction;\n","var root = require('./_root');\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\nmodule.exports = coreJsData;\n","var coreJsData = require('./_coreJsData');\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nmodule.exports = isMasked;\n","/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nmodule.exports = toSource;\n","var isFunction = require('./isFunction'),\n    isMasked = require('./_isMasked'),\n    isObject = require('./isObject'),\n    toSource = require('./_toSource');\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\nmodule.exports = baseIsNative;\n","/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nmodule.exports = getValue;\n","var baseIsNative = require('./_baseIsNative'),\n    getValue = require('./_getValue');\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nmodule.exports = getNative;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map');\n\nmodule.exports = Map;\n","var getNative = require('./_getNative');\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = getNative(Object, 'create');\n\nmodule.exports = nativeCreate;\n","var nativeCreate = require('./_nativeCreate');\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\nmodule.exports = hashClear;\n","/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = hashDelete;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\nmodule.exports = hashGet;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\nmodule.exports = hashHas;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\nmodule.exports = hashSet;\n","var hashClear = require('./_hashClear'),\n    hashDelete = require('./_hashDelete'),\n    hashGet = require('./_hashGet'),\n    hashHas = require('./_hashHas'),\n    hashSet = require('./_hashSet');\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\nmodule.exports = Hash;\n","var Hash = require('./_Hash'),\n    ListCache = require('./_ListCache'),\n    Map = require('./_Map');\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\nmodule.exports = mapCacheClear;\n","/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\nmodule.exports = isKeyable;\n","var isKeyable = require('./_isKeyable');\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\nmodule.exports = getMapData;\n","var getMapData = require('./_getMapData');\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = mapCacheDelete;\n","var getMapData = require('./_getMapData');\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\nmodule.exports = mapCacheGet;\n","var getMapData = require('./_getMapData');\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\nmodule.exports = mapCacheHas;\n","var getMapData = require('./_getMapData');\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\nmodule.exports = mapCacheSet;\n","var mapCacheClear = require('./_mapCacheClear'),\n    mapCacheDelete = require('./_mapCacheDelete'),\n    mapCacheGet = require('./_mapCacheGet'),\n    mapCacheHas = require('./_mapCacheHas'),\n    mapCacheSet = require('./_mapCacheSet');\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\nmodule.exports = MapCache;\n","var ListCache = require('./_ListCache'),\n    Map = require('./_Map'),\n    MapCache = require('./_MapCache');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\nmodule.exports = stackSet;\n","var ListCache = require('./_ListCache'),\n    stackClear = require('./_stackClear'),\n    stackDelete = require('./_stackDelete'),\n    stackGet = require('./_stackGet'),\n    stackHas = require('./_stackHas'),\n    stackSet = require('./_stackSet');\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\nmodule.exports = Stack;\n","/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\nmodule.exports = setCacheAdd;\n","/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\nmodule.exports = setCacheHas;\n","var MapCache = require('./_MapCache'),\n    setCacheAdd = require('./_setCacheAdd'),\n    setCacheHas = require('./_setCacheHas');\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values == null ? 0 : values.length;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\nmodule.exports = SetCache;\n","/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nmodule.exports = arraySome;\n","/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\nmodule.exports = cacheHas;\n","var SetCache = require('./_SetCache'),\n    arraySome = require('./_arraySome'),\n    cacheHas = require('./_cacheHas');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(array);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var index = -1,\n      result = true,\n      seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!arraySome(other, function(othValue, othIndex) {\n            if (!cacheHas(seen, othIndex) &&\n                (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n              return seen.push(othIndex);\n            }\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(\n          arrValue === othValue ||\n            equalFunc(arrValue, othValue, bitmask, customizer, stack)\n        )) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalArrays;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Uint8Array = root.Uint8Array;\n\nmodule.exports = Uint8Array;\n","/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\nmodule.exports = mapToArray;\n","/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\nmodule.exports = setToArray;\n","var Symbol = require('./_Symbol'),\n    Uint8Array = require('./_Uint8Array'),\n    eq = require('./eq'),\n    equalArrays = require('./_equalArrays'),\n    mapToArray = require('./_mapToArray'),\n    setToArray = require('./_setToArray');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]';\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n  switch (tag) {\n    case dataViewTag:\n      if ((object.byteLength != other.byteLength) ||\n          (object.byteOffset != other.byteOffset)) {\n        return false;\n      }\n      object = object.buffer;\n      other = other.buffer;\n\n    case arrayBufferTag:\n      if ((object.byteLength != other.byteLength) ||\n          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n        return false;\n      }\n      return true;\n\n    case boolTag:\n    case dateTag:\n    case numberTag:\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\n      // Invalid dates are coerced to `NaN`.\n      return eq(+object, +other);\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings, primitives and objects,\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n      // for more details.\n      return object == (other + '');\n\n    case mapTag:\n      var convert = mapToArray;\n\n    case setTag:\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n      convert || (convert = setToArray);\n\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      bitmask |= COMPARE_UNORDERED_FLAG;\n\n      // Recursively compare objects (susceptible to call stack limits).\n      stack.set(object, other);\n      var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n      stack['delete'](object);\n      return result;\n\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\n\nmodule.exports = equalByTag;\n","/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\nmodule.exports = arrayPush;\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nmodule.exports = isArray;\n","var arrayPush = require('./_arrayPush'),\n    isArray = require('./isArray');\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\nmodule.exports = baseGetAllKeys;\n","/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayFilter;\n","/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\nmodule.exports = stubArray;\n","var arrayFilter = require('./_arrayFilter'),\n    stubArray = require('./stubArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n  if (object == null) {\n    return [];\n  }\n  object = Object(object);\n  return arrayFilter(nativeGetSymbols(object), function(symbol) {\n    return propertyIsEnumerable.call(object, symbol);\n  });\n};\n\nmodule.exports = getSymbols;\n","/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nmodule.exports = baseTimes;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\nmodule.exports = baseIsArguments;\n","var baseIsArguments = require('./_baseIsArguments'),\n    isObjectLike = require('./isObjectLike');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\nmodule.exports = isArguments;\n","/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = stubFalse;\n","var root = require('./_root'),\n    stubFalse = require('./stubFalse');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\nmodule.exports = isBuffer;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\nmodule.exports = isIndex;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nmodule.exports = isLength;\n","var baseGetTag = require('./_baseGetTag'),\n    isLength = require('./isLength'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\nmodule.exports = baseIsTypedArray;\n","/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nmodule.exports = baseUnary;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    // Use `util.types` for Node.js 10+.\n    var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n    if (types) {\n      return types;\n    }\n\n    // Legacy `process.binding('util')` for Node.js < 10.\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\nmodule.exports = nodeUtil;\n","var baseIsTypedArray = require('./_baseIsTypedArray'),\n    baseUnary = require('./_baseUnary'),\n    nodeUtil = require('./_nodeUtil');\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\nmodule.exports = isTypedArray;\n","var baseTimes = require('./_baseTimes'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isIndex = require('./_isIndex'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayLikeKeys;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\nmodule.exports = isPrototype;\n","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nmodule.exports = overArg;\n","var overArg = require('./_overArg');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object);\n\nmodule.exports = nativeKeys;\n","var isPrototype = require('./_isPrototype'),\n    nativeKeys = require('./_nativeKeys');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseKeys;\n","var isFunction = require('./isFunction'),\n    isLength = require('./isLength');\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\nmodule.exports = isArrayLike;\n","var arrayLikeKeys = require('./_arrayLikeKeys'),\n    baseKeys = require('./_baseKeys'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\nmodule.exports = keys;\n","var baseGetAllKeys = require('./_baseGetAllKeys'),\n    getSymbols = require('./_getSymbols'),\n    keys = require('./keys');\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\nmodule.exports = getAllKeys;\n","var getAllKeys = require('./_getAllKeys');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      objProps = getAllKeys(object),\n      objLength = objProps.length,\n      othProps = getAllKeys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(object);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalObjects;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView');\n\nmodule.exports = DataView;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Promise = getNative(root, 'Promise');\n\nmodule.exports = Promise;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Set = getNative(root, 'Set');\n\nmodule.exports = Set;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar WeakMap = getNative(root, 'WeakMap');\n\nmodule.exports = WeakMap;\n","var DataView = require('./_DataView'),\n    Map = require('./_Map'),\n    Promise = require('./_Promise'),\n    Set = require('./_Set'),\n    WeakMap = require('./_WeakMap'),\n    baseGetTag = require('./_baseGetTag'),\n    toSource = require('./_toSource');\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    setTag = '[object Set]',\n    weakMapTag = '[object WeakMap]';\n\nvar dataViewTag = '[object DataView]';\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = baseGetTag(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\nmodule.exports = getTag;\n","var Stack = require('./_Stack'),\n    equalArrays = require('./_equalArrays'),\n    equalByTag = require('./_equalByTag'),\n    equalObjects = require('./_equalObjects'),\n    getTag = require('./_getTag'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = objIsArr ? arrayTag : getTag(object),\n      othTag = othIsArr ? arrayTag : getTag(other);\n\n  objTag = objTag == argsTag ? objectTag : objTag;\n  othTag = othTag == argsTag ? objectTag : othTag;\n\n  var objIsObj = objTag == objectTag,\n      othIsObj = othTag == objectTag,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && isBuffer(object)) {\n    if (!isBuffer(other)) {\n      return false;\n    }\n    objIsArr = true;\n    objIsObj = false;\n  }\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack);\n    return (objIsArr || isTypedArray(object))\n      ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n      : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n  }\n  if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new Stack);\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack);\n  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n}\n\nmodule.exports = baseIsEqualDeep;\n","var baseIsEqualDeep = require('./_baseIsEqualDeep'),\n    isObjectLike = require('./isObjectLike');\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Unordered comparison\n *  2 - Partial comparison\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, bitmask, customizer, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n}\n\nmodule.exports = baseIsEqual;\n","var Stack = require('./_Stack'),\n    baseIsEqual = require('./_baseIsEqual');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * The base implementation of `_.isMatch` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to inspect.\n * @param {Object} source The object of property values to match.\n * @param {Array} matchData The property names, values, and compare flags to match.\n * @param {Function} [customizer] The function to customize comparisons.\n * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n */\nfunction baseIsMatch(object, source, matchData, customizer) {\n  var index = matchData.length,\n      length = index,\n      noCustomizer = !customizer;\n\n  if (object == null) {\n    return !length;\n  }\n  object = Object(object);\n  while (index--) {\n    var data = matchData[index];\n    if ((noCustomizer && data[2])\n          ? data[1] !== object[data[0]]\n          : !(data[0] in object)\n        ) {\n      return false;\n    }\n  }\n  while (++index < length) {\n    data = matchData[index];\n    var key = data[0],\n        objValue = object[key],\n        srcValue = data[1];\n\n    if (noCustomizer && data[2]) {\n      if (objValue === undefined && !(key in object)) {\n        return false;\n      }\n    } else {\n      var stack = new Stack;\n      if (customizer) {\n        var result = customizer(objValue, srcValue, key, object, source, stack);\n      }\n      if (!(result === undefined\n            ? baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG, customizer, stack)\n            : result\n          )) {\n        return false;\n      }\n    }\n  }\n  return true;\n}\n\nmodule.exports = baseIsMatch;\n","var isObject = require('./isObject');\n\n/**\n * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` if suitable for strict\n *  equality comparisons, else `false`.\n */\nfunction isStrictComparable(value) {\n  return value === value && !isObject(value);\n}\n\nmodule.exports = isStrictComparable;\n","var isStrictComparable = require('./_isStrictComparable'),\n    keys = require('./keys');\n\n/**\n * Gets the property names, values, and compare flags of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the match data of `object`.\n */\nfunction getMatchData(object) {\n  var result = keys(object),\n      length = result.length;\n\n  while (length--) {\n    var key = result[length],\n        value = object[key];\n\n    result[length] = [key, value, isStrictComparable(value)];\n  }\n  return result;\n}\n\nmodule.exports = getMatchData;\n","/**\n * A specialized version of `matchesProperty` for source values suitable\n * for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction matchesStrictComparable(key, srcValue) {\n  return function(object) {\n    if (object == null) {\n      return false;\n    }\n    return object[key] === srcValue &&\n      (srcValue !== undefined || (key in Object(object)));\n  };\n}\n\nmodule.exports = matchesStrictComparable;\n","var baseIsMatch = require('./_baseIsMatch'),\n    getMatchData = require('./_getMatchData'),\n    matchesStrictComparable = require('./_matchesStrictComparable');\n\n/**\n * The base implementation of `_.matches` which doesn't clone `source`.\n *\n * @private\n * @param {Object} source The object of property values to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatches(source) {\n  var matchData = getMatchData(source);\n  if (matchData.length == 1 && matchData[0][2]) {\n    return matchesStrictComparable(matchData[0][0], matchData[0][1]);\n  }\n  return function(object) {\n    return object === source || baseIsMatch(object, source, matchData);\n  };\n}\n\nmodule.exports = baseMatches;\n","var isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/;\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  if (isArray(value)) {\n    return false;\n  }\n  var type = typeof value;\n  if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n      value == null || isSymbol(value)) {\n    return true;\n  }\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n    (object != null && value in Object(object));\n}\n\nmodule.exports = isKey;\n","var MapCache = require('./_MapCache');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a function that memoizes the result of `func`. If `resolver` is\n * provided, it determines the cache key for storing the result based on the\n * arguments provided to the memoized function. By default, the first argument\n * provided to the memoized function is used as the map cache key. The `func`\n * is invoked with the `this` binding of the memoized function.\n *\n * **Note:** The cache is exposed as the `cache` property on the memoized\n * function. Its creation may be customized by replacing the `_.memoize.Cache`\n * constructor with one whose instances implement the\n * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to have its output memoized.\n * @param {Function} [resolver] The function to resolve the cache key.\n * @returns {Function} Returns the new memoized function.\n * @example\n *\n * var object = { 'a': 1, 'b': 2 };\n * var other = { 'c': 3, 'd': 4 };\n *\n * var values = _.memoize(_.values);\n * values(object);\n * // => [1, 2]\n *\n * values(other);\n * // => [3, 4]\n *\n * object.a = 2;\n * values(object);\n * // => [1, 2]\n *\n * // Modify the result cache.\n * values.cache.set(object, ['a', 'b']);\n * values(object);\n * // => ['a', 'b']\n *\n * // Replace `_.memoize.Cache`.\n * _.memoize.Cache = WeakMap;\n */\nfunction memoize(func, resolver) {\n  if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var memoized = function() {\n    var args = arguments,\n        key = resolver ? resolver.apply(this, args) : args[0],\n        cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    var result = func.apply(this, args);\n    memoized.cache = cache.set(key, result) || cache;\n    return result;\n  };\n  memoized.cache = new (memoize.Cache || MapCache);\n  return memoized;\n}\n\n// Expose `MapCache`.\nmemoize.Cache = MapCache;\n\nmodule.exports = memoize;\n","var memoize = require('./memoize');\n\n/** Used as the maximum memoize cache size. */\nvar MAX_MEMOIZE_SIZE = 500;\n\n/**\n * A specialized version of `_.memoize` which clears the memoized function's\n * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n *\n * @private\n * @param {Function} func The function to have its output memoized.\n * @returns {Function} Returns the new memoized function.\n */\nfunction memoizeCapped(func) {\n  var result = memoize(func, function(key) {\n    if (cache.size === MAX_MEMOIZE_SIZE) {\n      cache.clear();\n    }\n    return key;\n  });\n\n  var cache = result.cache;\n  return result;\n}\n\nmodule.exports = memoizeCapped;\n","var memoizeCapped = require('./_memoizeCapped');\n\n/** Used to match property names within property paths. */\nvar rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath = memoizeCapped(function(string) {\n  var result = [];\n  if (string.charCodeAt(0) === 46 /* . */) {\n    result.push('');\n  }\n  string.replace(rePropName, function(match, number, quote, subString) {\n    result.push(quote ? subString.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n});\n\nmodule.exports = stringToPath;\n","var Symbol = require('./_Symbol'),\n    arrayMap = require('./_arrayMap'),\n    isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isArray(value)) {\n    // Recursively convert values (susceptible to call stack limits).\n    return arrayMap(value, baseToString) + '';\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = baseToString;\n","var baseToString = require('./_baseToString');\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\nmodule.exports = toString;\n","var isArray = require('./isArray'),\n    isKey = require('./_isKey'),\n    stringToPath = require('./_stringToPath'),\n    toString = require('./toString');\n\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @param {Object} [object] The object to query keys on.\n * @returns {Array} Returns the cast property path array.\n */\nfunction castPath(value, object) {\n  if (isArray(value)) {\n    return value;\n  }\n  return isKey(value, object) ? [value] : stringToPath(toString(value));\n}\n\nmodule.exports = castPath;\n","var isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = toKey;\n","var castPath = require('./_castPath'),\n    toKey = require('./_toKey');\n\n/**\n * The base implementation of `_.get` without support for default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path) {\n  path = castPath(path, object);\n\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[toKey(path[index++])];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\nmodule.exports = baseGet;\n","var baseGet = require('./_baseGet');\n\n/**\n * Gets the value at `path` of `object`. If the resolved value is\n * `undefined`, the `defaultValue` is returned in its place.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n * @returns {*} Returns the resolved value.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.get(object, 'a[0].b.c');\n * // => 3\n *\n * _.get(object, ['a', '0', 'b', 'c']);\n * // => 3\n *\n * _.get(object, 'a.b.c', 'default');\n * // => 'default'\n */\nfunction get(object, path, defaultValue) {\n  var result = object == null ? undefined : baseGet(object, path);\n  return result === undefined ? defaultValue : result;\n}\n\nmodule.exports = get;\n","/**\n * The base implementation of `_.hasIn` without support for deep paths.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {Array|string} key The key to check.\n * @returns {boolean} Returns `true` if `key` exists, else `false`.\n */\nfunction baseHasIn(object, key) {\n  return object != null && key in Object(object);\n}\n\nmodule.exports = baseHasIn;\n","var castPath = require('./_castPath'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isIndex = require('./_isIndex'),\n    isLength = require('./isLength'),\n    toKey = require('./_toKey');\n\n/**\n * Checks if `path` exists on `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @param {Function} hasFunc The function to check properties.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n */\nfunction hasPath(object, path, hasFunc) {\n  path = castPath(path, object);\n\n  var index = -1,\n      length = path.length,\n      result = false;\n\n  while (++index < length) {\n    var key = toKey(path[index]);\n    if (!(result = object != null && hasFunc(object, key))) {\n      break;\n    }\n    object = object[key];\n  }\n  if (result || ++index != length) {\n    return result;\n  }\n  length = object == null ? 0 : object.length;\n  return !!length && isLength(length) && isIndex(key, length) &&\n    (isArray(object) || isArguments(object));\n}\n\nmodule.exports = hasPath;\n","var baseHasIn = require('./_baseHasIn'),\n    hasPath = require('./_hasPath');\n\n/**\n * Checks if `path` is a direct or inherited property of `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n * @example\n *\n * var object = _.create({ 'a': _.create({ 'b': 2 }) });\n *\n * _.hasIn(object, 'a');\n * // => true\n *\n * _.hasIn(object, 'a.b');\n * // => true\n *\n * _.hasIn(object, ['a', 'b']);\n * // => true\n *\n * _.hasIn(object, 'b');\n * // => false\n */\nfunction hasIn(object, path) {\n  return object != null && hasPath(object, path, baseHasIn);\n}\n\nmodule.exports = hasIn;\n","var baseIsEqual = require('./_baseIsEqual'),\n    get = require('./get'),\n    hasIn = require('./hasIn'),\n    isKey = require('./_isKey'),\n    isStrictComparable = require('./_isStrictComparable'),\n    matchesStrictComparable = require('./_matchesStrictComparable'),\n    toKey = require('./_toKey');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.\n *\n * @private\n * @param {string} path The path of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatchesProperty(path, srcValue) {\n  if (isKey(path) && isStrictComparable(srcValue)) {\n    return matchesStrictComparable(toKey(path), srcValue);\n  }\n  return function(object) {\n    var objValue = get(object, path);\n    return (objValue === undefined && objValue === srcValue)\n      ? hasIn(object, path)\n      : baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG);\n  };\n}\n\nmodule.exports = baseMatchesProperty;\n","/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nmodule.exports = identity;\n","/**\n * The base implementation of `_.property` without support for deep paths.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction baseProperty(key) {\n  return function(object) {\n    return object == null ? undefined : object[key];\n  };\n}\n\nmodule.exports = baseProperty;\n","var baseGet = require('./_baseGet');\n\n/**\n * A specialized version of `baseProperty` which supports deep paths.\n *\n * @private\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction basePropertyDeep(path) {\n  return function(object) {\n    return baseGet(object, path);\n  };\n}\n\nmodule.exports = basePropertyDeep;\n","var baseProperty = require('./_baseProperty'),\n    basePropertyDeep = require('./_basePropertyDeep'),\n    isKey = require('./_isKey'),\n    toKey = require('./_toKey');\n\n/**\n * Creates a function that returns the value at `path` of a given object.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n * @example\n *\n * var objects = [\n *   { 'a': { 'b': 2 } },\n *   { 'a': { 'b': 1 } }\n * ];\n *\n * _.map(objects, _.property('a.b'));\n * // => [2, 1]\n *\n * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b');\n * // => [1, 2]\n */\nfunction property(path) {\n  return isKey(path) ? baseProperty(toKey(path)) : basePropertyDeep(path);\n}\n\nmodule.exports = property;\n","var baseMatches = require('./_baseMatches'),\n    baseMatchesProperty = require('./_baseMatchesProperty'),\n    identity = require('./identity'),\n    isArray = require('./isArray'),\n    property = require('./property');\n\n/**\n * The base implementation of `_.iteratee`.\n *\n * @private\n * @param {*} [value=_.identity] The value to convert to an iteratee.\n * @returns {Function} Returns the iteratee.\n */\nfunction baseIteratee(value) {\n  // Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.\n  // See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.\n  if (typeof value == 'function') {\n    return value;\n  }\n  if (value == null) {\n    return identity;\n  }\n  if (typeof value == 'object') {\n    return isArray(value)\n      ? baseMatchesProperty(value[0], value[1])\n      : baseMatches(value);\n  }\n  return property(value);\n}\n\nmodule.exports = baseIteratee;\n","/**\n * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseFor(fromRight) {\n  return function(object, iteratee, keysFunc) {\n    var index = -1,\n        iterable = Object(object),\n        props = keysFunc(object),\n        length = props.length;\n\n    while (length--) {\n      var key = props[fromRight ? length : ++index];\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n    return object;\n  };\n}\n\nmodule.exports = createBaseFor;\n","var createBaseFor = require('./_createBaseFor');\n\n/**\n * The base implementation of `baseForOwn` which iterates over `object`\n * properties returned by `keysFunc` and invokes `iteratee` for each property.\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseFor = createBaseFor();\n\nmodule.exports = baseFor;\n","var baseFor = require('./_baseFor'),\n    keys = require('./keys');\n\n/**\n * The base implementation of `_.forOwn` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Object} Returns `object`.\n */\nfunction baseForOwn(object, iteratee) {\n  return object && baseFor(object, iteratee, keys);\n}\n\nmodule.exports = baseForOwn;\n","var isArrayLike = require('./isArrayLike');\n\n/**\n * Creates a `baseEach` or `baseEachRight` function.\n *\n * @private\n * @param {Function} eachFunc The function to iterate over a collection.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseEach(eachFunc, fromRight) {\n  return function(collection, iteratee) {\n    if (collection == null) {\n      return collection;\n    }\n    if (!isArrayLike(collection)) {\n      return eachFunc(collection, iteratee);\n    }\n    var length = collection.length,\n        index = fromRight ? length : -1,\n        iterable = Object(collection);\n\n    while ((fromRight ? index-- : ++index < length)) {\n      if (iteratee(iterable[index], index, iterable) === false) {\n        break;\n      }\n    }\n    return collection;\n  };\n}\n\nmodule.exports = createBaseEach;\n","var baseForOwn = require('./_baseForOwn'),\n    createBaseEach = require('./_createBaseEach');\n\n/**\n * The base implementation of `_.forEach` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array|Object} Returns `collection`.\n */\nvar baseEach = createBaseEach(baseForOwn);\n\nmodule.exports = baseEach;\n","var baseEach = require('./_baseEach'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * The base implementation of `_.map` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction baseMap(collection, iteratee) {\n  var index = -1,\n      result = isArrayLike(collection) ? Array(collection.length) : [];\n\n  baseEach(collection, function(value, key, collection) {\n    result[++index] = iteratee(value, key, collection);\n  });\n  return result;\n}\n\nmodule.exports = baseMap;\n","/**\n * The base implementation of `_.sortBy` which uses `comparer` to define the\n * sort order of `array` and replaces criteria objects with their corresponding\n * values.\n *\n * @private\n * @param {Array} array The array to sort.\n * @param {Function} comparer The function to define sort order.\n * @returns {Array} Returns `array`.\n */\nfunction baseSortBy(array, comparer) {\n  var length = array.length;\n\n  array.sort(comparer);\n  while (length--) {\n    array[length] = array[length].value;\n  }\n  return array;\n}\n\nmodule.exports = baseSortBy;\n","var isSymbol = require('./isSymbol');\n\n/**\n * Compares values to sort them in ascending order.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {number} Returns the sort order indicator for `value`.\n */\nfunction compareAscending(value, other) {\n  if (value !== other) {\n    var valIsDefined = value !== undefined,\n        valIsNull = value === null,\n        valIsReflexive = value === value,\n        valIsSymbol = isSymbol(value);\n\n    var othIsDefined = other !== undefined,\n        othIsNull = other === null,\n        othIsReflexive = other === other,\n        othIsSymbol = isSymbol(other);\n\n    if ((!othIsNull && !othIsSymbol && !valIsSymbol && value > other) ||\n        (valIsSymbol && othIsDefined && othIsReflexive && !othIsNull && !othIsSymbol) ||\n        (valIsNull && othIsDefined && othIsReflexive) ||\n        (!valIsDefined && othIsReflexive) ||\n        !valIsReflexive) {\n      return 1;\n    }\n    if ((!valIsNull && !valIsSymbol && !othIsSymbol && value < other) ||\n        (othIsSymbol && valIsDefined && valIsReflexive && !valIsNull && !valIsSymbol) ||\n        (othIsNull && valIsDefined && valIsReflexive) ||\n        (!othIsDefined && valIsReflexive) ||\n        !othIsReflexive) {\n      return -1;\n    }\n  }\n  return 0;\n}\n\nmodule.exports = compareAscending;\n","var compareAscending = require('./_compareAscending');\n\n/**\n * Used by `_.orderBy` to compare multiple properties of a value to another\n * and stable sort them.\n *\n * If `orders` is unspecified, all values are sorted in ascending order. Otherwise,\n * specify an order of \"desc\" for descending or \"asc\" for ascending sort order\n * of corresponding values.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {boolean[]|string[]} orders The order to sort by for each property.\n * @returns {number} Returns the sort order indicator for `object`.\n */\nfunction compareMultiple(object, other, orders) {\n  var index = -1,\n      objCriteria = object.criteria,\n      othCriteria = other.criteria,\n      length = objCriteria.length,\n      ordersLength = orders.length;\n\n  while (++index < length) {\n    var result = compareAscending(objCriteria[index], othCriteria[index]);\n    if (result) {\n      if (index >= ordersLength) {\n        return result;\n      }\n      var order = orders[index];\n      return result * (order == 'desc' ? -1 : 1);\n    }\n  }\n  // Fixes an `Array#sort` bug in the JS engine embedded in Adobe applications\n  // that causes it, under certain circumstances, to provide the same value for\n  // `object` and `other`. See https://github.com/jashkenas/underscore/pull/1247\n  // for more details.\n  //\n  // This also ensures a stable sort in V8 and other engines.\n  // See https://bugs.chromium.org/p/v8/issues/detail?id=90 for more details.\n  return object.index - other.index;\n}\n\nmodule.exports = compareMultiple;\n","var arrayMap = require('./_arrayMap'),\n    baseIteratee = require('./_baseIteratee'),\n    baseMap = require('./_baseMap'),\n    baseSortBy = require('./_baseSortBy'),\n    baseUnary = require('./_baseUnary'),\n    compareMultiple = require('./_compareMultiple'),\n    identity = require('./identity');\n\n/**\n * The base implementation of `_.orderBy` without param guards.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function[]|Object[]|string[]} iteratees The iteratees to sort by.\n * @param {string[]} orders The sort orders of `iteratees`.\n * @returns {Array} Returns the new sorted array.\n */\nfunction baseOrderBy(collection, iteratees, orders) {\n  var index = -1;\n  iteratees = arrayMap(iteratees.length ? iteratees : [identity], baseUnary(baseIteratee));\n\n  var result = baseMap(collection, function(value, key, collection) {\n    var criteria = arrayMap(iteratees, function(iteratee) {\n      return iteratee(value);\n    });\n    return { 'criteria': criteria, 'index': ++index, 'value': value };\n  });\n\n  return baseSortBy(result, function(object, other) {\n    return compareMultiple(object, other, orders);\n  });\n}\n\nmodule.exports = baseOrderBy;\n","var baseOrderBy = require('./_baseOrderBy'),\n    isArray = require('./isArray');\n\n/**\n * This method is like `_.sortBy` except that it allows specifying the sort\n * orders of the iteratees to sort by. If `orders` is unspecified, all values\n * are sorted in ascending order. Otherwise, specify an order of \"desc\" for\n * descending or \"asc\" for ascending sort order of corresponding values.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Array[]|Function[]|Object[]|string[]} [iteratees=[_.identity]]\n *  The iteratees to sort by.\n * @param {string[]} [orders] The sort orders of `iteratees`.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.reduce`.\n * @returns {Array} Returns the new sorted array.\n * @example\n *\n * var users = [\n *   { 'user': 'fred',   'age': 48 },\n *   { 'user': 'barney', 'age': 34 },\n *   { 'user': 'fred',   'age': 40 },\n *   { 'user': 'barney', 'age': 36 }\n * ];\n *\n * // Sort by `user` in ascending order and by `age` in descending order.\n * _.orderBy(users, ['user', 'age'], ['asc', 'desc']);\n * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 40]]\n */\nfunction orderBy(collection, iteratees, orders, guard) {\n  if (collection == null) {\n    return [];\n  }\n  if (!isArray(iteratees)) {\n    iteratees = iteratees == null ? [] : [iteratees];\n  }\n  orders = guard ? undefined : orders;\n  if (!isArray(orders)) {\n    orders = orders == null ? [] : [orders];\n  }\n  return baseOrderBy(collection, iteratees, orders);\n}\n\nmodule.exports = orderBy;\n","export const STAGE_ID = '__node_editor_stage__'\r\nexport const DRAG_CONNECTION_ID = '__node_editor_drag_connection__'\r\nexport const CONNECTIONS_ID = '__node_editor_connections__'\r\n","import React from \"react\";\r\nimport styles from \"./Stage.css\";\r\nimport { Portal } from \"react-portal\";\r\nimport ContextMenu from \"../ContextMenu/ContextMenu\";\r\nimport { NodeTypesContext, NodeDispatchContext } from \"../../context\";\r\nimport Draggable from \"../Draggable/Draggable\";\r\nimport orderBy from \"lodash/orderBy\";\r\nimport clamp from \"lodash/clamp\";\r\nimport { STAGE_ID } from '../../constants'\r\n\r\nconst Stage = ({\r\n  scale,\r\n  translate,\r\n  editorId,\r\n  dispatchStageState,\r\n  children,\r\n  outerStageChildren,\r\n  numNodes,\r\n  stageRef,\r\n  spaceToPan,\r\n  dispatchComments,\r\n  disableComments,\r\n  disablePan,\r\n  disableZoom\r\n}) => {\r\n  const nodeTypes = React.useContext(NodeTypesContext);\r\n  const dispatchNodes = React.useContext(NodeDispatchContext);\r\n  const wrapper = React.useRef();\r\n  const translateWrapper = React.useRef();\r\n  const [menuOpen, setMenuOpen] = React.useState(false);\r\n  const [menuCoordinates, setMenuCoordinates] = React.useState({ x: 0, y: 0 });\r\n  const dragData = React.useRef({ x: 0, y: 0 });\r\n  const [spaceIsPressed, setSpaceIsPressed] = React.useState(false);\r\n\r\n  const setStageRect = React.useCallback(() => {\r\n    stageRef.current = wrapper.current.getBoundingClientRect();\r\n  }, []);\r\n\r\n  React.useEffect(() => {\r\n    stageRef.current = wrapper.current.getBoundingClientRect();\r\n    window.addEventListener(\"resize\", setStageRect);\r\n    return () => {\r\n      window.removeEventListener(\"resize\", setStageRect);\r\n    };\r\n  }, [stageRef, setStageRect]);\r\n\r\n  const handleWheel = React.useCallback(\r\n    e => {\r\n      if (e.target.nodeName === \"TEXTAREA\" || e.target.dataset.comment) {\r\n        if (e.target.clientHeight < e.target.scrollHeight) return;\r\n      }\r\n      e.preventDefault();\r\n      if (numNodes > 0) {\r\n        const delta = e.deltaY;\r\n        dispatchStageState(({ scale }) => ({\r\n          type: \"SET_SCALE\",\r\n          scale: clamp(scale - clamp(delta, -10, 10) * 0.005, 0.1, 7)\r\n        }));\r\n      }\r\n    },\r\n    [dispatchStageState, numNodes]\r\n  );\r\n\r\n  const handleDragDelayStart = e => {\r\n    wrapper.current.focus();\r\n  };\r\n\r\n  const handleDragStart = e => {\r\n    e.preventDefault();\r\n    dragData.current = {\r\n      x: e.clientX,\r\n      y: e.clientY\r\n    };\r\n  };\r\n\r\n  const handleMouseDrag = (coords, e) => {\r\n    const xDistance = dragData.current.x - e.clientX;\r\n    const yDistance = dragData.current.y - e.clientY;\r\n    translateWrapper.current.style.transform = `translate(${-(\r\n      translate.x + xDistance\r\n    )}px, ${-(translate.y + yDistance)}px)`;\r\n  };\r\n\r\n  const handleDragEnd = e => {\r\n    const xDistance = dragData.current.x - e.clientX;\r\n    const yDistance = dragData.current.y - e.clientY;\r\n    dragData.current.x = e.clientX;\r\n    dragData.current.y = e.clientY;\r\n    dispatchStageState(({ translate: tran }) => ({\r\n      type: \"SET_TRANSLATE\",\r\n      translate: {\r\n        x: tran.x + xDistance,\r\n        y: tran.y + yDistance\r\n      }\r\n    }));\r\n  };\r\n\r\n  const handleContextMenu = e => {\r\n    e.preventDefault();\r\n    setMenuCoordinates({ x: e.clientX, y: e.clientY });\r\n    setMenuOpen(true);\r\n    return false;\r\n  };\r\n\r\n  const closeContextMenu = () => {\r\n    setMenuOpen(false);\r\n  };\r\n\r\n  const byScale = value => (1 / scale) * value;\r\n\r\n  const addNode = ({ node, internalType }) => {\r\n    const wrapperRect = wrapper.current.getBoundingClientRect();\r\n    const x =\r\n      byScale(menuCoordinates.x - wrapperRect.x - wrapperRect.width / 2) +\r\n      byScale(translate.x);\r\n    const y =\r\n      byScale(menuCoordinates.y - wrapperRect.y - wrapperRect.height / 2) +\r\n      byScale(translate.y);\r\n    if (internalType === \"comment\") {\r\n      dispatchComments({\r\n        type: \"ADD_COMMENT\",\r\n        x,\r\n        y\r\n      });\r\n    } else {\r\n      dispatchNodes({\r\n        type: \"ADD_NODE\",\r\n        x,\r\n        y,\r\n        nodeType: node.type\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleDocumentKeyUp = e => {\r\n    if (e.which === 32) {\r\n      setSpaceIsPressed(false);\r\n      document.removeEventListener(\"keyup\", handleDocumentKeyUp);\r\n    }\r\n  };\r\n\r\n  const handleKeyDown = e => {\r\n    if (e.which === 32 && document.activeElement === wrapper.current) {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n      setSpaceIsPressed(true);\r\n      document.addEventListener(\"keyup\", handleDocumentKeyUp);\r\n    }\r\n  };\r\n\r\n  const handleMouseEnter = () => {\r\n    if (!wrapper.current.contains(document.activeElement)) {\r\n      wrapper.current.focus();\r\n    }\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    if(!disableZoom){\r\n      let stageWrapper = wrapper.current;\r\n      stageWrapper.addEventListener(\"wheel\", handleWheel);\r\n      return () => {\r\n        stageWrapper.removeEventListener(\"wheel\", handleWheel);\r\n      };\r\n    }\r\n  }, [handleWheel, disableZoom]);\r\n\r\n  const menuOptions = React.useMemo(\r\n    () => {\r\n      const options = orderBy(\r\n        Object.values(nodeTypes)\r\n          .filter(node => node.addable !== false)\r\n          .map(node => ({\r\n            value: node.type,\r\n            label: node.label,\r\n            description: node.description,\r\n            sortIndex: node.sortIndex,\r\n            node\r\n          })),\r\n        [\"sortIndex\", \"label\"]\r\n      )\r\n      if(!disableComments){\r\n        options.push({ value: \"comment\", label: \"Comment\", description: \"A comment for documenting nodes\", internalType: \"comment\" })\r\n      }\r\n      return options\r\n    },\r\n    [nodeTypes, disableComments]\r\n  );\r\n\r\n  return (\r\n    <Draggable\r\n      id={`${STAGE_ID}${editorId}`}\r\n      className={styles.wrapper}\r\n      innerRef={wrapper}\r\n      onContextMenu={handleContextMenu}\r\n      onMouseEnter={handleMouseEnter}\r\n      onDragDelayStart={handleDragDelayStart}\r\n      onDragStart={handleDragStart}\r\n      onDrag={handleMouseDrag}\r\n      onDragEnd={handleDragEnd}\r\n      onKeyDown={handleKeyDown}\r\n      tabIndex={-1}\r\n      stageState={{ scale, translate }}\r\n      style={{ cursor: spaceIsPressed && spaceToPan ? \"grab\" : \"\" }}\r\n      disabled={disablePan || (spaceToPan && !spaceIsPressed)}\r\n      data-flume-stage={true}\r\n    >\r\n      {menuOpen ? (\r\n        <Portal>\r\n          <ContextMenu\r\n            x={menuCoordinates.x}\r\n            y={menuCoordinates.y}\r\n            options={menuOptions}\r\n            onRequestClose={closeContextMenu}\r\n            onOptionSelected={addNode}\r\n            label=\"Add Node\"\r\n          />\r\n        </Portal>\r\n      ) : null}\r\n      <div\r\n        ref={translateWrapper}\r\n        className={styles.transformWrapper}\r\n        style={{ transform: `translate(${-translate.x}px, ${-translate.y}px)` }}\r\n      >\r\n        <div\r\n          className={styles.scaleWrapper}\r\n          style={{ transform: `scale(${scale})` }}\r\n        >\r\n          {children}\r\n        </div>\r\n      </div>\r\n      {outerStageChildren}\r\n    </Draggable>\r\n  );\r\n};\r\nexport default Stage;\r\n","var pi = Math.PI,\n    tau = 2 * pi,\n    epsilon = 1e-6,\n    tauEpsilon = tau - epsilon;\n\nfunction Path() {\n  this._x0 = this._y0 = // start of current subpath\n  this._x1 = this._y1 = null; // end of current subpath\n  this._ = \"\";\n}\n\nfunction path() {\n  return new Path;\n}\n\nPath.prototype = path.prototype = {\n  constructor: Path,\n  moveTo: function(x, y) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y);\n  },\n  closePath: function() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._ += \"Z\";\n    }\n  },\n  lineTo: function(x, y) {\n    this._ += \"L\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  quadraticCurveTo: function(x1, y1, x, y) {\n    this._ += \"Q\" + (+x1) + \",\" + (+y1) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) {\n    this._ += \"C\" + (+x1) + \",\" + (+y1) + \",\" + (+x2) + \",\" + (+y2) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  arcTo: function(x1, y1, x2, y2, r) {\n    x1 = +x1, y1 = +y1, x2 = +x2, y2 = +y2, r = +r;\n    var x0 = this._x1,\n        y0 = this._y1,\n        x21 = x2 - x1,\n        y21 = y2 - y1,\n        x01 = x0 - x1,\n        y01 = y0 - y1,\n        l01_2 = x01 * x01 + y01 * y01;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x1,y1).\n    if (this._x1 === null) {\n      this._ += \"M\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Or, is (x1,y1) coincident with (x0,y0)? Do nothing.\n    else if (!(l01_2 > epsilon));\n\n    // Or, are (x0,y0), (x1,y1) and (x2,y2) collinear?\n    // Equivalently, is (x1,y1) coincident with (x2,y2)?\n    // Or, is the radius zero? Line to (x1,y1).\n    else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon) || !r) {\n      this._ += \"L\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Otherwise, draw an arc!\n    else {\n      var x20 = x2 - x0,\n          y20 = y2 - y0,\n          l21_2 = x21 * x21 + y21 * y21,\n          l20_2 = x20 * x20 + y20 * y20,\n          l21 = Math.sqrt(l21_2),\n          l01 = Math.sqrt(l01_2),\n          l = r * Math.tan((pi - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2),\n          t01 = l / l01,\n          t21 = l / l21;\n\n      // If the start tangent is not coincident with (x0,y0), line to.\n      if (Math.abs(t01 - 1) > epsilon) {\n        this._ += \"L\" + (x1 + t01 * x01) + \",\" + (y1 + t01 * y01);\n      }\n\n      this._ += \"A\" + r + \",\" + r + \",0,0,\" + (+(y01 * x20 > x01 * y20)) + \",\" + (this._x1 = x1 + t21 * x21) + \",\" + (this._y1 = y1 + t21 * y21);\n    }\n  },\n  arc: function(x, y, r, a0, a1, ccw) {\n    x = +x, y = +y, r = +r, ccw = !!ccw;\n    var dx = r * Math.cos(a0),\n        dy = r * Math.sin(a0),\n        x0 = x + dx,\n        y0 = y + dy,\n        cw = 1 ^ ccw,\n        da = ccw ? a0 - a1 : a1 - a0;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x0,y0).\n    if (this._x1 === null) {\n      this._ += \"M\" + x0 + \",\" + y0;\n    }\n\n    // Or, is (x0,y0) not coincident with the previous point? Line to (x0,y0).\n    else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) {\n      this._ += \"L\" + x0 + \",\" + y0;\n    }\n\n    // Is this arc empty? We’re done.\n    if (!r) return;\n\n    // Does the angle go the wrong way? Flip the direction.\n    if (da < 0) da = da % tau + tau;\n\n    // Is this a complete circle? Draw two arcs to complete the circle.\n    if (da > tauEpsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (x - dx) + \",\" + (y - dy) + \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (this._x1 = x0) + \",\" + (this._y1 = y0);\n    }\n\n    // Is this arc non-empty? Draw an arc!\n    else if (da > epsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,\" + (+(da >= pi)) + \",\" + cw + \",\" + (this._x1 = x + r * Math.cos(a1)) + \",\" + (this._y1 = y + r * Math.sin(a1));\n    }\n  },\n  rect: function(x, y, w, h) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y) + \"h\" + (+w) + \"v\" + (+h) + \"h\" + (-w) + \"Z\";\n  },\n  toString: function() {\n    return this._;\n  }\n};\n\nexport default path;\n","export default function(x) {\n  return function constant() {\n    return x;\n  };\n}\n","export var abs = Math.abs;\nexport var atan2 = Math.atan2;\nexport var cos = Math.cos;\nexport var max = Math.max;\nexport var min = Math.min;\nexport var sin = Math.sin;\nexport var sqrt = Math.sqrt;\n\nexport var epsilon = 1e-12;\nexport var pi = Math.PI;\nexport var halfPi = pi / 2;\nexport var tau = 2 * pi;\n\nexport function acos(x) {\n  return x > 1 ? 0 : x < -1 ? pi : Math.acos(x);\n}\n\nexport function asin(x) {\n  return x >= 1 ? halfPi : x <= -1 ? -halfPi : Math.asin(x);\n}\n","function Linear(context) {\n  this._context = context;\n}\n\nLinear.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // proceed\n      default: this._context.lineTo(x, y); break;\n    }\n  }\n};\n\nexport default function(context) {\n  return new Linear(context);\n}\n","export function x(p) {\n  return p[0];\n}\n\nexport function y(p) {\n  return p[1];\n}\n","import {path} from \"d3-path\";\nimport constant from \"./constant.js\";\nimport curveLinear from \"./curve/linear.js\";\nimport {x as pointX, y as pointY} from \"./point.js\";\n\nexport default function() {\n  var x = pointX,\n      y = pointY,\n      defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  function line(data) {\n    var i,\n        n = data.length,\n        d,\n        defined0 = false,\n        buffer;\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) output.lineStart();\n        else output.lineEnd();\n      }\n      if (defined0) output.point(+x(d, i, data), +y(d, i, data));\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  line.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), line) : x;\n  };\n\n  line.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), line) : y;\n  };\n\n  line.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), line) : defined;\n  };\n\n  line.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), line) : curve;\n  };\n\n  line.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), line) : context;\n  };\n\n  return line;\n}\n","export function point(that, x, y) {\n  that._context.bezierCurveTo(\n    (2 * that._x0 + that._x1) / 3,\n    (2 * that._y0 + that._y1) / 3,\n    (that._x0 + 2 * that._x1) / 3,\n    (that._y0 + 2 * that._y1) / 3,\n    (that._x0 + 4 * that._x1 + x) / 6,\n    (that._y0 + 4 * that._y1 + y) / 6\n  );\n}\n\nexport function Basis(context) {\n  this._context = context;\n}\n\nBasis.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 3: point(this, this._x1, this._y1); // proceed\n      case 2: this._context.lineTo(this._x1, this._y1); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._context.lineTo((5 * this._x0 + this._x1) / 6, (5 * this._y0 + this._y1) / 6); // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nexport default function(context) {\n  return new Basis(context);\n}\n","function sign(x) {\n  return x < 0 ? -1 : 1;\n}\n\n// Calculate the slopes of the tangents (Hermite-type interpolation) based on\n// the following paper: Steffen, M. 1990. A Simple Method for Monotonic\n// Interpolation in One Dimension. Astronomy and Astrophysics, Vol. 239, NO.\n// NOV(II), P. 443, 1990.\nfunction slope3(that, x2, y2) {\n  var h0 = that._x1 - that._x0,\n      h1 = x2 - that._x1,\n      s0 = (that._y1 - that._y0) / (h0 || h1 < 0 && -0),\n      s1 = (y2 - that._y1) / (h1 || h0 < 0 && -0),\n      p = (s0 * h1 + s1 * h0) / (h0 + h1);\n  return (sign(s0) + sign(s1)) * Math.min(Math.abs(s0), Math.abs(s1), 0.5 * Math.abs(p)) || 0;\n}\n\n// Calculate a one-sided slope.\nfunction slope2(that, t) {\n  var h = that._x1 - that._x0;\n  return h ? (3 * (that._y1 - that._y0) / h - t) / 2 : t;\n}\n\n// According to https://en.wikipedia.org/wiki/Cubic_Hermite_spline#Representations\n// \"you can express cubic Hermite interpolation in terms of cubic Bézier curves\n// with respect to the four values p0, p0 + m0 / 3, p1 - m1 / 3, p1\".\nfunction point(that, t0, t1) {\n  var x0 = that._x0,\n      y0 = that._y0,\n      x1 = that._x1,\n      y1 = that._y1,\n      dx = (x1 - x0) / 3;\n  that._context.bezierCurveTo(x0 + dx, y0 + dx * t0, x1 - dx, y1 - dx * t1, x1, y1);\n}\n\nfunction MonotoneX(context) {\n  this._context = context;\n}\n\nMonotoneX.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 =\n    this._t0 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x1, this._y1); break;\n      case 3: point(this, this._t0, slope2(this, this._t0)); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    var t1 = NaN;\n\n    x = +x, y = +y;\n    if (x === this._x1 && y === this._y1) return; // Ignore coincident points.\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; point(this, slope2(this, t1 = slope3(this, x, y)), t1); break;\n      default: point(this, this._t0, t1 = slope3(this, x, y)); break;\n    }\n\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n    this._t0 = t1;\n  }\n}\n\nfunction MonotoneY(context) {\n  this._context = new ReflectContext(context);\n}\n\n(MonotoneY.prototype = Object.create(MonotoneX.prototype)).point = function(x, y) {\n  MonotoneX.prototype.point.call(this, y, x);\n};\n\nfunction ReflectContext(context) {\n  this._context = context;\n}\n\nReflectContext.prototype = {\n  moveTo: function(x, y) { this._context.moveTo(y, x); },\n  closePath: function() { this._context.closePath(); },\n  lineTo: function(x, y) { this._context.lineTo(y, x); },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) { this._context.bezierCurveTo(y1, x1, y2, x2, y, x); }\n};\n\nexport function monotoneX(context) {\n  return new MonotoneX(context);\n}\n\nexport function monotoneY(context) {\n  return new MonotoneY(context);\n}\n","import styles from \"./components/Connection/Connection.css\";\r\nimport { CONNECTIONS_ID } from './constants'\r\nimport { line, curveBasis } from 'd3-shape'\r\n\r\nconst getPort = (nodeId, portName, transputType = \"input\") => document\r\n  .querySelector(\r\n    `[data-node-id=\"${nodeId}\"] [data-port-name=\"${portName}\"][data-port-transput-type=\"${transputType}\"]`\r\n  )\r\n\r\nexport const getPortRect = (nodeId, portName, transputType = \"input\", cache) => {\r\n  if(cache){\r\n    const portCacheName = nodeId + portName + transputType;\r\n    const cachedPort = cache.current.ports[portCacheName];\r\n    if(cachedPort){\r\n      return cachedPort.getBoundingClientRect();\r\n    }else{\r\n      const port = getPort(nodeId, portName, transputType)\r\n      cache.current.ports[portCacheName] = port;\r\n      return port && port.getBoundingClientRect();\r\n    }\r\n  }else{\r\n    const port = getPort(nodeId, portName, transputType);\r\n    return port && port.getBoundingClientRect();\r\n  }\r\n}\r\n\r\nexport const getPortRectsByNodes = (nodes, forEachConnection) =>\r\n  Object.values(nodes).reduce((obj, node) => {\r\n    if (node.connections && node.connections.inputs) {\r\n      Object.entries(node.connections.inputs).forEach(\r\n        ([inputName, outputs]) => {\r\n          outputs.forEach(output => {\r\n            const toRect = getPortRect(node.id, inputName);\r\n            const fromRect = getPortRect(\r\n              output.nodeId,\r\n              output.portName,\r\n              \"output\"\r\n            );\r\n            if (forEachConnection) {\r\n              forEachConnection({\r\n                to: toRect,\r\n                from: fromRect,\r\n                name: output.nodeId + output.portName + node.id + inputName\r\n              });\r\n            }\r\n            obj[node.id + inputName] = toRect;\r\n            obj[output.nodeId + output.portName] = fromRect;\r\n          });\r\n        }\r\n      );\r\n    }\r\n    return obj;\r\n  }, {});\r\n\r\nexport const calculateCurve = (from, to) => {\r\n  const length = to.x - from.x;\r\n  const thirdLength = length / 3;\r\n  const curve = line().curve(curveBasis)([\r\n    [from.x, from.y],\r\n    [from.x + thirdLength, from.y],\r\n    [from.x + thirdLength * 2, to.y],\r\n    [to.x, to.y]\r\n  ]);\r\n  return curve;\r\n};\r\n\r\nexport const deleteConnection = ({ id }) => {\r\n  const line = document.querySelector(`[data-connection-id=\"${id}\"]`);\r\n  if (line) line.parentNode.remove();\r\n};\r\n\r\nexport const deleteConnectionsByNodeId = nodeId => {\r\n  const lines = document.querySelectorAll(\r\n    `[data-output-node-id=\"${nodeId}\"], [data-input-node-id=\"${nodeId}\"]`\r\n  );\r\n  for (const line of lines) {\r\n    line.parentNode.remove();\r\n  }\r\n};\r\n\r\nexport const updateConnection = ({ line, from, to }) => {\r\n  line.setAttribute(\"d\", calculateCurve(from, to));\r\n};\r\n\r\nexport const createSVG = ({\r\n  from,\r\n  to,\r\n  stage,\r\n  id,\r\n  outputNodeId,\r\n  outputPortName,\r\n  inputNodeId,\r\n  inputPortName\r\n}) => {\r\n  const svg = document.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\");\r\n  svg.setAttribute(\"class\", styles.svg);\r\n  const path = document.createElementNS(\"http://www.w3.org/2000/svg\", \"path\");\r\n  const curve = calculateCurve(from, to)\r\n  path.setAttribute(\"d\", curve)\r\n  path.setAttribute(\"stroke\", \"rgb(185, 186, 189)\");\r\n  path.setAttribute(\"stroke-width\", \"3\");\r\n  path.setAttribute(\"stroke-linecap\", \"round\");\r\n  path.setAttribute(\"fill\", \"none\");\r\n  path.setAttribute(\"data-connection-id\", id);\r\n  path.setAttribute(\"data-output-node-id\", outputNodeId);\r\n  path.setAttribute(\"data-output-port-name\", outputPortName);\r\n  path.setAttribute(\"data-input-node-id\", inputNodeId);\r\n  path.setAttribute(\"data-input-port-name\", inputPortName);\r\n  svg.appendChild(path);\r\n  stage.appendChild(svg);\r\n  return svg;\r\n};\r\n\r\nexport const getStageRef = editorId =>\r\n  document.getElementById(`${CONNECTIONS_ID}${editorId}`);\r\n\r\nexport const createConnections = (nodes, {scale, stageId}, editorId) => {\r\n  const stageRef = getStageRef(editorId);\r\n  if(stageRef){\r\n    const stage = stageRef.getBoundingClientRect();\r\n    const stageHalfWidth = stage.width / 2;\r\n    const stageHalfHeight = stage.height / 2;\r\n\r\n    const byScale = value => (1 / scale) * value;\r\n\r\n    Object.values(nodes).forEach(node => {\r\n      if (node.connections && node.connections.inputs) {\r\n        Object.entries(node.connections.inputs).forEach(\r\n          ([inputName, outputs], k) => {\r\n            outputs.forEach(output => {\r\n              const fromPort = getPortRect(\r\n                output.nodeId,\r\n                output.portName,\r\n                \"output\"\r\n              );\r\n              const toPort = getPortRect(node.id, inputName, \"input\");\r\n              const portHalf = fromPort ? fromPort.width / 2 : 0;\r\n              if (fromPort && toPort) {\r\n                const id = output.nodeId + output.portName + node.id + inputName;\r\n                const existingLine = document.querySelector(\r\n                  `[data-connection-id=\"${id}\"]`\r\n                );\r\n                if (existingLine) {\r\n                  updateConnection({\r\n                    line: existingLine,\r\n                    from: {\r\n                      x: byScale(fromPort.x - stage.x + portHalf - stageHalfWidth),\r\n                      y: byScale(fromPort.y - stage.y + portHalf - stageHalfHeight)\r\n                    },\r\n                    to: {\r\n                      x: byScale(toPort.x - stage.x + portHalf - stageHalfWidth),\r\n                      y: byScale(toPort.y - stage.y + portHalf - stageHalfHeight)\r\n                    }\r\n                  });\r\n                } else {\r\n                  createSVG({\r\n                    id,\r\n                    outputNodeId: output.nodeId,\r\n                    outputPortName: output.portName,\r\n                    inputNodeId: node.id,\r\n                    inputPortName: inputName,\r\n                    from: {\r\n                      x: byScale(fromPort.x - stage.x + portHalf - stageHalfWidth),\r\n                      y: byScale(fromPort.y - stage.y + portHalf - stageHalfHeight)\r\n                    },\r\n                    to: {\r\n                      x: byScale(toPort.x - stage.x + portHalf - stageHalfWidth),\r\n                      y: byScale(toPort.y - stage.y + portHalf - stageHalfHeight)\r\n                    },\r\n                    stage: stageRef\r\n                  });\r\n                }\r\n              }\r\n            });\r\n          }\r\n        );\r\n      }\r\n    });\r\n  }\r\n};\r\n","import React from \"react\";\r\nimport styles from \"./Checkbox.css\";\r\nimport nanoid from \"nanoid/non-secure/index\";\r\n\r\nconst Checkbox = ({ label, data, onChange }) => {\r\n  const id = React.useRef(nanoid(10));\r\n\r\n  return (\r\n    <div className={styles.wrapper}>\r\n      <input\r\n        className={styles.checkbox}\r\n        type=\"checkbox\"\r\n        id={id}\r\n        value={data}\r\n        checked={data}\r\n        onChange={e => onChange(e.target.checked)}\r\n      />\r\n      <label className={styles.label} htmlFor={id}>\r\n        {label}\r\n      </label>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Checkbox;\r\n","import React from \"react\";\r\nimport styles from \"./TextInput.css\";\r\nimport { RecalculateStageRectContext } from '../../context'\r\n\r\nconst TextInput = ({\r\n  placeholder,\r\n  updateNodeConnections,\r\n  onChange,\r\n  data,\r\n  step,\r\n  type\r\n}) => {\r\n  const numberInput = React.useRef()\r\n  const recalculateStageRect = React.useContext(RecalculateStageRectContext)\r\n\r\n  const handleDragEnd = () => {\r\n    document.removeEventListener(\"mousemove\", handleMouseMove);\r\n    document.removeEventListener(\"mouseup\", handleDragEnd);\r\n  };\r\n\r\n  const handleMouseMove = e => {\r\n    e.stopPropagation();\r\n    updateNodeConnections();\r\n  };\r\n\r\n  const handlePossibleResize = e => {\r\n    e.stopPropagation();\r\n    recalculateStageRect();\r\n    document.addEventListener(\"mousemove\", handleMouseMove);\r\n    document.addEventListener(\"mouseup\", handleDragEnd);\r\n  };\r\n\r\n  return (\r\n    <div className={styles.wrapper}>\r\n      {type === \"number\" ? (\r\n        <input\r\n          onKeyDown={e => {\r\n            if(e.keyCode === 69){\r\n              e.preventDefault()\r\n              return false;\r\n            }\r\n          }}\r\n          onChange={e => {\r\n            const inputValue = e.target.value.replace(/[^0-9.]+/g, '');\r\n            if (!!inputValue) {\r\n              const value = parseFloat(inputValue, 10);\r\n              if (Number.isNaN(value)) {\r\n                onChange(0);\r\n              } else {\r\n                onChange(value);\r\n                numberInput.current.value = value;\r\n              }\r\n            }\r\n          }}\r\n          onBlur={e => {\r\n            if (!e.target.value) {\r\n              onChange(0);\r\n              numberInput.current.value = 0;\r\n            }\r\n          }}\r\n          step={step || \"1\"}\r\n          onMouseDown={handlePossibleResize}\r\n          type={type || \"text\"}\r\n          placeholder={placeholder}\r\n          className={styles.input}\r\n          defaultValue={data}\r\n          onDragStart={e => e.stopPropagation()}\r\n          ref={numberInput}\r\n        />\r\n      ) : (\r\n        <textarea\r\n          onChange={e => onChange(e.target.value)}\r\n          onMouseDown={handlePossibleResize}\r\n          type=\"text\"\r\n          placeholder={placeholder}\r\n          className={styles.input}\r\n          value={data}\r\n          onDragStart={e => e.stopPropagation()}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TextInput;\r\n","import React from \"react\";\r\nimport selectStyles from \"../Select/Select.css\";\r\nimport { Portal } from \"react-portal\";\r\nimport ContextMenu from \"../ContextMenu/ContextMenu\";\r\nimport styles from \"./Select.css\";\r\n\r\nconst MAX_LABEL_LENGTH = 50;\r\n\r\nconst Select = ({\r\n  options = [],\r\n  placeholder = \"[Select an option]\",\r\n  onChange,\r\n  data,\r\n  allowMultiple\r\n}) => {\r\n  const [drawerOpen, setDrawerOpen] = React.useState(false);\r\n  const [drawerCoordinates, setDrawerCoordinates] = React.useState({\r\n    x: 0,\r\n    y: 0\r\n  });\r\n  const wrapper = React.useRef();\r\n\r\n  const closeDrawer = () => {\r\n    setDrawerOpen(false);\r\n  };\r\n\r\n  const openDrawer = () => {\r\n    if (!drawerOpen) {\r\n      const wrapperRect = wrapper.current.getBoundingClientRect();\r\n      setDrawerCoordinates({\r\n        x: wrapperRect.x,\r\n        y: wrapperRect.y + wrapperRect.height\r\n      });\r\n      setDrawerOpen(true);\r\n    }\r\n  };\r\n\r\n  const handleOptionSelected = option => {\r\n    if(allowMultiple){\r\n      onChange([...data, option.value]);\r\n    }else{\r\n      onChange(option.value)\r\n    }\r\n  };\r\n\r\n  const handleOptionDeleted = optionIndex => {\r\n    onChange([...data.slice(0, optionIndex), ...data.slice(optionIndex + 1)]);\r\n  };\r\n\r\n  const getFilteredOptions = () => (\r\n    allowMultiple ?\r\n    options.filter(opt => !data.includes(opt.value))\r\n    : options\r\n  )\r\n\r\n  const selectedOption = React.useMemo(() => {\r\n    const option = options.find(o => o.value === data);\r\n    if (option) {\r\n      return {\r\n        ...option,\r\n        label:\r\n          option.label.length > MAX_LABEL_LENGTH\r\n            ? option.label.slice(0, MAX_LABEL_LENGTH) + \"...\"\r\n            : option.label\r\n      };\r\n    }\r\n  }, [options, data]);\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {allowMultiple ? (\r\n        data.length ? (\r\n          <div className={styles.chipsWrapper}>\r\n            {data.map((val, i) => {\r\n              const optLabel =\r\n                (options.find(opt => opt.value === val) || {}).label || \"\";\r\n              return (\r\n                <OptionChip\r\n                  onRequestDelete={() => handleOptionDeleted(i)}\r\n                  key={val}\r\n                >\r\n                  {optLabel}\r\n                </OptionChip>\r\n              );\r\n            })}\r\n          </div>\r\n        ) : null\r\n      ) : data ? (\r\n        <SelectedOption\r\n          wrapperRef={wrapper}\r\n          option={selectedOption}\r\n          onClick={openDrawer}\r\n        />\r\n      ) : null}\r\n      {\r\n        (allowMultiple || !data) &&\r\n        <div className={selectStyles.wrapper} ref={wrapper} onClick={openDrawer}>\r\n          {placeholder}\r\n        </div>\r\n      }\r\n      {drawerOpen && (\r\n        <Portal>\r\n          <ContextMenu\r\n            x={drawerCoordinates.x}\r\n            y={drawerCoordinates.y}\r\n            emptyText=\"There are no options\"\r\n            options={getFilteredOptions()}\r\n            onOptionSelected={handleOptionSelected}\r\n            onRequestClose={closeDrawer}\r\n          />\r\n        </Portal>\r\n      )}\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default Select;\r\n\r\nconst SelectedOption = ({\r\n  option: { label, description } = {},\r\n  wrapperRef,\r\n  onClick\r\n}) => (\r\n  <div className={styles.selectedWrapper} onClick={onClick} ref={wrapperRef}>\r\n    <label>{label}</label>\r\n    {description ? <p>{description}</p> : null}\r\n  </div>\r\n);\r\n\r\nconst OptionChip = ({ children, onRequestDelete }) => (\r\n  <div className={styles.chipWrapper}>\r\n    {children}\r\n    <button\r\n      className={styles.deleteButton}\r\n      onMouseDown={e => {\r\n        e.stopPropagation();\r\n      }}\r\n      onClick={onRequestDelete}\r\n    >\r\n      ✕\r\n    </button>\r\n  </div>\r\n);\r\n","import React from \"react\";\r\nimport styles from \"./Control.css\";\r\nimport Checkbox from \"../Checkbox/Checkbox\";\r\nimport TextInput from \"../TextInput/TextInput\";\r\nimport Select from \"../Select/Select\";\r\nimport { NodeDispatchContext, ContextContext } from \"../../context\";\r\n\r\nconst Control = ({\r\n  type,\r\n  name,\r\n  nodeId,\r\n  portName,\r\n  label,\r\n  inputLabel,\r\n  data,\r\n  allData,\r\n  render,\r\n  step,\r\n  options = [],\r\n  placeholder,\r\n  inputData,\r\n  triggerRecalculation,\r\n  updateNodeConnections,\r\n  getOptions,\r\n  setValue,\r\n  defaultValue,\r\n  isMonoControl\r\n}) => {\r\n  const nodesDispatch = React.useContext(NodeDispatchContext);\r\n  const executionContext = React.useContext(ContextContext);\r\n\r\n  const calculatedLabel = isMonoControl ? inputLabel : label;\r\n\r\n  const onChange = data => {\r\n    nodesDispatch({\r\n      type: \"SET_PORT_DATA\",\r\n      data,\r\n      nodeId,\r\n      portName,\r\n      controlName: name,\r\n      setValue\r\n    });\r\n    triggerRecalculation();\r\n  };\r\n\r\n  const getControlByType = type => {\r\n    const commonProps = {\r\n      triggerRecalculation,\r\n      updateNodeConnections,\r\n      onChange,\r\n      data\r\n    };\r\n    switch (type) {\r\n      case \"select\":\r\n        return (\r\n          <Select\r\n            {...commonProps}\r\n            options={\r\n              getOptions ? getOptions(inputData, executionContext) : options\r\n            }\r\n            placeholder={placeholder}\r\n          />\r\n        );\r\n      case \"text\":\r\n        return <TextInput {...commonProps} placeholder={placeholder} />;\r\n      case \"number\":\r\n        return (\r\n          <TextInput {...commonProps} step={step} type=\"number\" placeholder={placeholder} />\r\n        );\r\n      case \"checkbox\":\r\n        return <Checkbox {...commonProps} label={calculatedLabel} />;\r\n      case \"multiselect\":\r\n        return (\r\n          <Select\r\n            allowMultiple\r\n            {...commonProps}\r\n            options={\r\n              getOptions ? getOptions(inputData, executionContext) : options\r\n            }\r\n            placeholder={placeholder}\r\n            label={label}\r\n          />\r\n        );\r\n      case \"custom\":\r\n        return render(data, onChange, executionContext, triggerRecalculation, {\r\n          label,\r\n          name,\r\n          portName,\r\n          inputLabel,\r\n          defaultValue\r\n        }, allData);\r\n      default:\r\n        return <div>Control</div>;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={styles.wrapper}>\r\n      {calculatedLabel && type !== \"checkbox\" && type !== \"custom\" && (\r\n        <label className={styles.controlLabel}>{calculatedLabel}</label>\r\n      )}\r\n      {getControlByType(type)}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Control;\r\n","import React from \"react\";\r\nimport {calculateCurve} from '../../connectionCalculator'\r\nimport styles from \"./Connection.css\";\r\n\r\nconst Connection = ({\r\n  from,\r\n  to,\r\n  id,\r\n  lineRef,\r\n  outputNodeId,\r\n  outputPortName,\r\n  inputNodeId,\r\n  inputPortName\r\n}) => {\r\n  const curve = calculateCurve(from, to)\r\n  return (\r\n    <svg className={styles.svg}>\r\n      <path\r\n        data-connection-id={id}\r\n        data-output-node-id={outputNodeId}\r\n        data-output-port-name={outputPortName}\r\n        data-input-node-id={inputNodeId}\r\n        data-input-port-name={inputPortName}\r\n        stroke=\"rgb(185, 186, 189)\"\r\n        fill=\"none\"\r\n        strokeWidth={3}\r\n        strokeLinecap=\"round\"\r\n        d={curve}\r\n        ref={lineRef}\r\n      />\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport default Connection;\r\n","import React from 'react'\r\n\r\nconst usePrevious = value => {\r\n  const ref = React.useRef();\r\n  React.useEffect(() => {\r\n    ref.current = value;\r\n  });\r\n  return ref.current;\r\n}\r\n\r\nexport default usePrevious\r\n","import React from \"react\";\r\nimport styles from \"./IoPorts.css\";\r\nimport { Portal } from \"react-portal\";\r\nimport {\r\n  NodeDispatchContext,\r\n  ConnectionRecalculateContext,\r\n  StageContext,\r\n  ContextContext,\r\n  EditorIdContext\r\n} from \"../../context\";\r\nimport Control from \"../Control/Control\";\r\nimport Connection from \"../Connection/Connection\";\r\nimport { PortTypesContext } from \"../../context\";\r\nimport usePrevious from \"../../hooks/usePrevious\";\r\nimport { calculateCurve, getPortRect } from \"../../connectionCalculator\";\r\nimport { STAGE_ID, DRAG_CONNECTION_ID } from '../../constants'\r\n\r\nfunction useTransputs (transputsFn, transputType, nodeId, inputData, connections) {\r\n  const nodesDispatch = React.useContext(NodeDispatchContext);\r\n  const executionContext = React.useContext(ContextContext);\r\n\r\n  const transputs = React.useMemo(() => {\r\n    if (Array.isArray(transputsFn)) return transputsFn;\r\n    return transputsFn(inputData, connections, executionContext);\r\n  }, [transputsFn, inputData, connections, executionContext]);\r\n  const prevTransputs = usePrevious(transputs);\r\n\r\n  React.useEffect(() => {\r\n    if (!prevTransputs || Array.isArray(transputsFn)) return;\r\n    for (const transput of prevTransputs) {\r\n      const current = transputs.find(({ name }) => transput.name === name);\r\n      if (!current) {\r\n        nodesDispatch({\r\n          type: 'DESTROY_TRANSPUT',\r\n          transputType,\r\n          transput: { nodeId, portName: '' + transput.name }\r\n        });\r\n      }\r\n    }\r\n  }, [transputsFn, transputs, prevTransputs, nodesDispatch, nodeId, transputType]);\r\n\r\n  return transputs;\r\n}\r\n\r\nconst IoPorts = ({\r\n  nodeId,\r\n  inputs = [],\r\n  outputs = [],\r\n  connections,\r\n  inputData,\r\n  updateNodeConnections\r\n}) => {\r\n  const inputTypes = React.useContext(PortTypesContext);\r\n  const triggerRecalculation = React.useContext(ConnectionRecalculateContext);\r\n  const resolvedInputs = useTransputs(inputs, 'input', nodeId, inputData, connections);\r\n  const resolvedOutputs = useTransputs(outputs, 'output', nodeId, inputData, connections);\r\n  \r\n  return (\r\n    <div className={styles.wrapper}>\r\n      {resolvedInputs.length ? (\r\n        <div className={styles.inputs}>\r\n          {resolvedInputs.map(input => (\r\n            <Input\r\n              {...input}\r\n              data={inputData[input.name] || {}}\r\n              isConnected={!!connections.inputs[input.name]}\r\n              triggerRecalculation={triggerRecalculation}\r\n              updateNodeConnections={updateNodeConnections}\r\n              inputTypes={inputTypes}\r\n              nodeId={nodeId}\r\n              inputData={inputData}\r\n              key={input.name}\r\n            />\r\n          ))}\r\n        </div>\r\n      ) : null}\r\n      {!!resolvedOutputs.length && (\r\n        <div className={styles.outputs}>\r\n          {resolvedOutputs.map(output => (\r\n            <Output\r\n              {...output}\r\n              triggerRecalculation={triggerRecalculation}\r\n              inputTypes={inputTypes}\r\n              nodeId={nodeId}\r\n              inputData={inputData}\r\n              portOnRight\r\n              key={output.name}\r\n            />\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default IoPorts;\r\n\r\nconst Input = ({\r\n  type,\r\n  label,\r\n  name,\r\n  nodeId,\r\n  data,\r\n  controls: localControls,\r\n  inputTypes,\r\n  noControls,\r\n  triggerRecalculation,\r\n  updateNodeConnections,\r\n  isConnected,\r\n  inputData,\r\n  hidePort\r\n}) => {\r\n  const { label: defaultLabel, color, controls: defaultControls = [] } =\r\n    inputTypes[type] || {};\r\n  const prevConnected = usePrevious(isConnected);\r\n\r\n  const controls = localControls || defaultControls;\r\n\r\n  React.useEffect(() => {\r\n    if (isConnected !== prevConnected) {\r\n      triggerRecalculation();\r\n    }\r\n  }, [isConnected, prevConnected, triggerRecalculation]);\r\n\r\n  return (\r\n    <div\r\n      className={styles.transput}\r\n      data-controlless={isConnected || noControls || !controls.length}\r\n      onDragStart={e => {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n      }}\r\n    >\r\n      {!hidePort ? (\r\n        <Port\r\n          type={type}\r\n          color={color}\r\n          name={name}\r\n          nodeId={nodeId}\r\n          isInput\r\n          triggerRecalculation={triggerRecalculation}\r\n        />\r\n      ) : null}\r\n      {(!controls.length || noControls || isConnected) && (\r\n        <label className={styles.portLabel}>{label || defaultLabel}</label>\r\n      )}\r\n      {!noControls && !isConnected\r\n        ? (\r\n          <div className={styles.controls}>\r\n            {\r\n              controls.map(control => (\r\n                  <Control\r\n                    {...control}\r\n                    nodeId={nodeId}\r\n                    portName={name}\r\n                    triggerRecalculation={triggerRecalculation}\r\n                    updateNodeConnections={updateNodeConnections}\r\n                    inputLabel={label}\r\n                    data={data[control.name]}\r\n                    allData={data}\r\n                    key={control.name}\r\n                    inputData={inputData}\r\n                    isMonoControl={controls.length === 1}\r\n                  />\r\n                ))\r\n            }\r\n          </div>\r\n        )\r\n        : null}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst Output = ({\r\n  label,\r\n  name,\r\n  nodeId,\r\n  type,\r\n  inputTypes,\r\n  triggerRecalculation\r\n}) => {\r\n  const { label: defaultLabel, color } = inputTypes[type] || {};\r\n\r\n  return (\r\n    <div\r\n      className={styles.transput}\r\n      data-controlless={true}\r\n      onDragStart={e => {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n      }}\r\n    >\r\n      <label className={styles.portLabel}>{label || defaultLabel}</label>\r\n      <Port\r\n        type={type}\r\n        name={name}\r\n        color={color}\r\n        nodeId={nodeId}\r\n        triggerRecalculation={triggerRecalculation}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nconst Port = ({\r\n  color = \"grey\",\r\n  name = \"\",\r\n  type,\r\n  isInput,\r\n  nodeId,\r\n  triggerRecalculation\r\n}) => {\r\n  const nodesDispatch = React.useContext(NodeDispatchContext);\r\n  const stageState = React.useContext(StageContext);\r\n  const editorId = React.useContext(EditorIdContext);\r\n  const stageId = `${STAGE_ID}${editorId}`\r\n  const inputTypes = React.useContext(PortTypesContext);\r\n  const [isDragging, setIsDragging] = React.useState(false);\r\n  const [dragStartCoordinates, setDragStartCoordinates] = React.useState({\r\n    x: 0,\r\n    y: 0\r\n  });\r\n  const dragStartCoordinatesCache = React.useRef(dragStartCoordinates);\r\n  const port = React.useRef();\r\n  const line = React.useRef();\r\n  const lineInToPort = React.useRef();\r\n\r\n  const byScale = value => (1 / stageState.scale) * value;\r\n\r\n  const handleDrag = e => {\r\n    const stage = document\r\n      .getElementById(stageId)\r\n      .getBoundingClientRect();\r\n\r\n    if (isInput) {\r\n      const to = {\r\n        x:\r\n          byScale(e.clientX - stage.x - stage.width / 2) +\r\n          byScale(stageState.translate.x),\r\n        y:\r\n          byScale(e.clientY - stage.y - stage.height / 2) +\r\n          byScale(stageState.translate.y)\r\n      };\r\n      lineInToPort.current.setAttribute(\r\n        \"d\",\r\n        calculateCurve(dragStartCoordinatesCache.current, to)\r\n      );\r\n    } else {\r\n      const to = {\r\n        x:\r\n          byScale(e.clientX - stage.x - stage.width / 2) +\r\n          byScale(stageState.translate.x),\r\n        y:\r\n          byScale(e.clientY - stage.y - stage.height / 2) +\r\n          byScale(stageState.translate.y)\r\n      };\r\n      line.current.setAttribute(\r\n        \"d\",\r\n        calculateCurve(dragStartCoordinatesCache.current, to)\r\n      );\r\n    }\r\n  };\r\n\r\n  const handleDragEnd = e => {\r\n    const droppedOnPort = !!e.target.dataset.portName;\r\n\r\n    if (isInput) {\r\n      const {\r\n        inputNodeId,\r\n        inputPortName,\r\n        outputNodeId,\r\n        outputPortName\r\n      } = lineInToPort.current.dataset;\r\n      nodesDispatch({\r\n        type: \"REMOVE_CONNECTION\",\r\n        input: { nodeId: inputNodeId, portName: inputPortName },\r\n        output: { nodeId: outputNodeId, portName: outputPortName }\r\n      });\r\n      if (droppedOnPort) {\r\n        const {\r\n          portName: connectToPortName,\r\n          nodeId: connectToNodeId,\r\n          portType: connectToPortType,\r\n          portTransputType: connectToTransputType\r\n        } = e.target.dataset;\r\n        const isNotSameNode = outputNodeId !== connectToNodeId;\r\n        if (isNotSameNode && connectToTransputType !== \"output\") {\r\n          const inputWillAcceptConnection = inputTypes[\r\n            connectToPortType\r\n          ].acceptTypes.includes(type);\r\n          if (inputWillAcceptConnection) {\r\n            nodesDispatch({\r\n              type: \"ADD_CONNECTION\",\r\n              input: { nodeId: connectToNodeId, portName: connectToPortName },\r\n              output: { nodeId: outputNodeId, portName: outputPortName }\r\n            });\r\n          }\r\n        }\r\n      }\r\n    } else {\r\n      if (droppedOnPort) {\r\n        const {\r\n          portName: inputPortName,\r\n          nodeId: inputNodeId,\r\n          portType: inputNodeType,\r\n          portTransputType: inputTransputType\r\n        } = e.target.dataset;\r\n        const isNotSameNode = inputNodeId !== nodeId;\r\n        if (isNotSameNode && inputTransputType !== \"output\") {\r\n          const inputWillAcceptConnection = inputTypes[\r\n            inputNodeType\r\n          ].acceptTypes.includes(type);\r\n          if (inputWillAcceptConnection) {\r\n            nodesDispatch({\r\n              type: \"ADD_CONNECTION\",\r\n              output: { nodeId, portName: name },\r\n              input: { nodeId: inputNodeId, portName: inputPortName }\r\n            });\r\n            triggerRecalculation();\r\n          }\r\n        }\r\n      }\r\n    }\r\n    setIsDragging(false);\r\n    document.removeEventListener(\"mouseup\", handleDragEnd);\r\n    document.removeEventListener(\"mousemove\", handleDrag);\r\n  };\r\n\r\n  const handleDragStart = e => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    const startPort = port.current.getBoundingClientRect();\r\n    const stage = document\r\n      .getElementById(stageId)\r\n      .getBoundingClientRect();\r\n\r\n    if (isInput) {\r\n      lineInToPort.current = document.querySelector(\r\n        `[data-input-node-id=\"${nodeId}\"][data-input-port-name=\"${name}\"]`\r\n      );\r\n      const portIsConnected = !!lineInToPort.current;\r\n      if (portIsConnected) {\r\n        lineInToPort.current.parentNode.style.zIndex = 9999;\r\n        const outputPort = getPortRect(\r\n          lineInToPort.current.dataset.outputNodeId,\r\n          lineInToPort.current.dataset.outputPortName,\r\n          \"output\"\r\n        );\r\n        const coordinates = {\r\n          x:\r\n            byScale(\r\n              outputPort.x - stage.x + outputPort.width / 2 - stage.width / 2\r\n            ) + byScale(stageState.translate.x),\r\n          y:\r\n            byScale(\r\n              outputPort.y - stage.y + outputPort.width / 2 - stage.height / 2\r\n            ) + byScale(stageState.translate.y)\r\n        };\r\n        setDragStartCoordinates(coordinates);\r\n        dragStartCoordinatesCache.current = coordinates;\r\n        setIsDragging(true);\r\n        document.addEventListener(\"mouseup\", handleDragEnd);\r\n        document.addEventListener(\"mousemove\", handleDrag);\r\n      }\r\n    } else {\r\n      const coordinates = {\r\n        x:\r\n          byScale(\r\n            startPort.x - stage.x + startPort.width / 2 - stage.width / 2\r\n          ) + byScale(stageState.translate.x),\r\n        y:\r\n          byScale(\r\n            startPort.y - stage.y + startPort.width / 2 - stage.height / 2\r\n          ) + byScale(stageState.translate.y)\r\n      };\r\n      setDragStartCoordinates(coordinates);\r\n      dragStartCoordinatesCache.current = coordinates;\r\n      setIsDragging(true);\r\n      document.addEventListener(\"mouseup\", handleDragEnd);\r\n      document.addEventListener(\"mousemove\", handleDrag);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <div\r\n        style={{ zIndex: 999 }}\r\n        onMouseDown={handleDragStart}\r\n        className={styles.port}\r\n        data-port-color={color}\r\n        data-port-name={name}\r\n        data-port-type={type}\r\n        data-port-transput-type={isInput ? \"input\" : \"output\"}\r\n        data-node-id={nodeId}\r\n        onDragStart={e => {\r\n          e.preventDefault();\r\n          e.stopPropagation();\r\n        }}\r\n        ref={port}\r\n      />\r\n      {isDragging && !isInput ? (\r\n        <Portal\r\n          node={document.getElementById(`${DRAG_CONNECTION_ID}${editorId}`)}\r\n        >\r\n          <Connection\r\n            from={dragStartCoordinates}\r\n            to={dragStartCoordinates}\r\n            lineRef={line}\r\n          />\r\n        </Portal>\r\n      ) : null}\r\n    </React.Fragment>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport styles from \"./Node.css\";\r\nimport {\r\n  NodeTypesContext,\r\n  NodeDispatchContext,\r\n  StageContext,\r\n  CacheContext\r\n} from \"../../context\";\r\nimport { getPortRect, calculateCurve } from \"../../connectionCalculator\";\r\nimport { Portal } from \"react-portal\";\r\nimport ContextMenu from \"../ContextMenu/ContextMenu\";\r\nimport IoPorts from \"../IoPorts/IoPorts\";\r\nimport Draggable from \"../Draggable/Draggable\";\r\n\r\nconst Node = ({\r\n  id,\r\n  width,\r\n  height,\r\n  x,\r\n  y,\r\n  delay = 6,\r\n  stageRect,\r\n  connections,\r\n  type,\r\n  inputData,\r\n  onDragStart,\r\n  onDragEnd,\r\n  onDrag\r\n}) => {\r\n  const cache = React.useContext(CacheContext);\r\n  const nodeTypes = React.useContext(NodeTypesContext);\r\n  const nodesDispatch = React.useContext(NodeDispatchContext);\r\n  const stageState = React.useContext(StageContext);\r\n  const { label, deletable, inputs = [], outputs = [] } = nodeTypes[type];\r\n\r\n  const nodeWrapper = React.useRef();\r\n  const [menuOpen, setMenuOpen] = React.useState(false);\r\n  const [menuCoordinates, setMenuCoordinates] = React.useState({ x: 0, y: 0 });\r\n\r\n  const byScale = value => (1 / stageState.scale) * value;\r\n\r\n  const updateConnectionsByTransput = (transput = {}, isOutput) => {\r\n    Object.entries(transput).forEach(([portName, outputs]) => {\r\n      outputs.forEach(output => {\r\n        const toRect = getPortRect(\r\n          id,\r\n          portName,\r\n          isOutput ? \"output\" : \"input\",\r\n          cache\r\n        );\r\n        const fromRect = getPortRect(\r\n          output.nodeId,\r\n          output.portName,\r\n          isOutput ? \"input\" : \"output\",\r\n          cache\r\n        );\r\n        const portHalf = fromRect.width / 2;\r\n        let combined;\r\n        if (isOutput) {\r\n          combined = id + portName + output.nodeId + output.portName;\r\n        } else {\r\n          combined = output.nodeId + output.portName + id + portName;\r\n        }\r\n        let cnx;\r\n        const cachedConnection = cache.current.connections[combined];\r\n        if (cachedConnection) {\r\n          cnx = cachedConnection;\r\n        } else {\r\n          cnx = document.querySelector(`[data-connection-id=\"${combined}\"]`);\r\n          cache.current.connections[combined] = cnx;\r\n        }\r\n        const from = {\r\n          x:\r\n            byScale(\r\n              toRect.x -\r\n                stageRect.current.x +\r\n                portHalf -\r\n                stageRect.current.width / 2\r\n            ) + byScale(stageState.translate.x),\r\n          y:\r\n            byScale(\r\n              toRect.y -\r\n                stageRect.current.y +\r\n                portHalf -\r\n                stageRect.current.height / 2\r\n            ) + byScale(stageState.translate.y)\r\n        };\r\n        const to = {\r\n          x:\r\n            byScale(\r\n              fromRect.x -\r\n                stageRect.current.x +\r\n                portHalf -\r\n                stageRect.current.width / 2\r\n            ) + byScale(stageState.translate.x),\r\n          y:\r\n            byScale(\r\n              fromRect.y -\r\n                stageRect.current.y +\r\n                portHalf -\r\n                stageRect.current.height / 2\r\n            ) + byScale(stageState.translate.y)\r\n        };\r\n        cnx.setAttribute(\"d\", calculateCurve(from, to));\r\n      });\r\n    });\r\n  };\r\n\r\n  const updateNodeConnections = () => {\r\n    if (connections) {\r\n      updateConnectionsByTransput(connections.inputs);\r\n      updateConnectionsByTransput(connections.outputs, true);\r\n    }\r\n  };\r\n\r\n  const stopDrag = (e, coordinates) => {\r\n    nodesDispatch({\r\n      type: \"SET_NODE_COORDINATES\",\r\n      ...coordinates,\r\n      nodeId: id\r\n    });\r\n  };\r\n\r\n  const handleDrag = ({ x, y }) => {\r\n    nodeWrapper.current.style.transform = `translate(${x}px,${y}px)`;\r\n    updateNodeConnections();\r\n  };\r\n\r\n  const startDrag = e => {\r\n    onDragStart();\r\n  };\r\n\r\n  const handleContextMenu = e => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    setMenuCoordinates({ x: e.clientX, y: e.clientY });\r\n    setMenuOpen(true);\r\n    return false;\r\n  };\r\n\r\n  const closeContextMenu = () => {\r\n    setMenuOpen(false);\r\n  };\r\n\r\n  const handleMenuOption = ({ value }) => {\r\n    switch (value) {\r\n      case \"deleteNode\":\r\n        nodesDispatch({\r\n          type: \"REMOVE_NODE\",\r\n          nodeId: id\r\n        });\r\n        break;\r\n      default:\r\n        return;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Draggable\r\n      className={styles.wrapper}\r\n      style={{\r\n        width,\r\n        transform: `translate(${x}px, ${y}px)`\r\n      }}\r\n      onDragStart={startDrag}\r\n      onDrag={handleDrag}\r\n      onDragEnd={stopDrag}\r\n      innerRef={nodeWrapper}\r\n      data-node-id={id}\r\n      onContextMenu={handleContextMenu}\r\n      stageState={stageState}\r\n      stageRect={stageRect}\r\n    >\r\n      <h2 className={styles.label}>{label}</h2>\r\n      <IoPorts\r\n        nodeId={id}\r\n        inputs={inputs}\r\n        outputs={outputs}\r\n        connections={connections}\r\n        updateNodeConnections={updateNodeConnections}\r\n        inputData={inputData}\r\n      />\r\n      {menuOpen ? (\r\n        <Portal>\r\n          <ContextMenu\r\n            x={menuCoordinates.x}\r\n            y={menuCoordinates.y}\r\n            options={[\r\n              ...(deletable !== false\r\n                ? [\r\n                    {\r\n                      label: \"Delete Node\",\r\n                      value: \"deleteNode\",\r\n                      description: \"Deletes a node and all of its connections.\"\r\n                    }\r\n                  ]\r\n                : [])\r\n            ]}\r\n            onRequestClose={closeContextMenu}\r\n            onOptionSelected={handleMenuOption}\r\n            hideFilter\r\n            label=\"Node Options\"\r\n            emptyText=\"This node has no options.\"\r\n          />\r\n        </Portal>\r\n      ) : null}\r\n    </Draggable>\r\n  );\r\n};\r\n\r\nexport default Node;\r\n","const define = (value, defaultValue) =>\r\n  value !== undefined ? value : defaultValue;\r\n\r\nconst buildControlType = (\r\n  defaultConfig,\r\n  validate = () => {},\r\n  setup = () => ({})\r\n) => config => {\r\n  validate(config);\r\n  return {\r\n    type: defaultConfig.type,\r\n    label: define(config.label, defaultConfig.label || \"\"),\r\n    name: define(config.name, defaultConfig.name || \"\"),\r\n    defaultValue: define(config.defaultValue, defaultConfig.defaultValue),\r\n    setValue: define(config.setValue, undefined),\r\n    ...setup(config)\r\n  };\r\n};\r\n\r\nexport const Controls = {\r\n  text: buildControlType({\r\n    type: \"text\",\r\n    name: \"text\",\r\n    defaultValue: \"\"\r\n  }),\r\n  select: buildControlType(\r\n    {\r\n      type: \"select\",\r\n      name: \"select\",\r\n      options: [],\r\n      defaultValue: \"\"\r\n    },\r\n    () => {},\r\n    config => ({\r\n      options: define(config.options, []),\r\n      getOptions: define(config.getOptions, undefined),\r\n      placeholder: define(config.placeholder, undefined)\r\n    })\r\n  ),\r\n  number: buildControlType(\r\n    {\r\n      type: \"number\",\r\n      name: \"number\",\r\n      defaultValue: 0\r\n    },\r\n    () => {},\r\n    config => ({\r\n      step: define(config.step, undefined)\r\n    })\r\n  ),\r\n  checkbox: buildControlType({\r\n    type: \"checkbox\",\r\n    name: \"checkbox\",\r\n    defaultValue: false\r\n  }),\r\n  multiselect: buildControlType(\r\n    {\r\n      type: \"multiselect\",\r\n      name: \"multiselect\",\r\n      options: [],\r\n      defaultValue: []\r\n    },\r\n    () => {},\r\n    config => ({\r\n      options: define(config.options, []),\r\n      getOptions: define(config.getOptions, undefined),\r\n      placeholder: define(config.placeholder, undefined)\r\n    })\r\n  ),\r\n  custom: buildControlType(\r\n    {\r\n      type: \"custom\",\r\n      name: \"custom\",\r\n      render: () => {},\r\n      defaultValue: undefined\r\n    },\r\n    () => {},\r\n    config => ({\r\n      render: define(config.render, () => {})\r\n    })\r\n  )\r\n};\r\n\r\nexport const Colors = {\r\n  yellow: \"yellow\",\r\n  orange: \"orange\",\r\n  red: \"red\",\r\n  pink: \"pink\",\r\n  purple: \"purple\",\r\n  blue: \"blue\",\r\n  green: \"green\",\r\n  grey: \"grey\"\r\n};\r\n\r\nexport const getPortBuilders = ports =>\r\n  Object.values(ports).reduce((obj, port) => {\r\n    obj[port.type] = (config = {}) => {\r\n      return {\r\n        type: port.type,\r\n        name: config.name || port.name,\r\n        label: config.label || port.label,\r\n        noControls: define(config.noControls, false),\r\n        color: config.color || port.color,\r\n        hidePort: define(config.hidePort, port.hidePort),\r\n        controls: define(config.controls, port.controls)\r\n      };\r\n    };\r\n    return obj;\r\n  }, {});\r\n\r\nexport class FlumeConfig {\r\n  constructor(config) {\r\n    if (config) {\r\n      this.nodeTypes = { ...config.nodeTypes };\r\n      this.portTypes = { ...config.portTypes };\r\n    } else {\r\n      this.nodeTypes = {};\r\n      this.portTypes = {};\r\n    }\r\n  }\r\n  addRootNodeType(config) {\r\n    this.addNodeType({\r\n      ...config,\r\n      root: true,\r\n      addable: false,\r\n      deletable: false\r\n    })\r\n    return this;\r\n  }\r\n  addNodeType(config) {\r\n    if (typeof config !== \"object\" && config !== null) {\r\n      throw new Error(\r\n        \"You must provide a configuration object when calling addNodeType.\"\r\n      );\r\n    }\r\n    if (typeof config.type !== \"string\") {\r\n      throw new Error(\r\n        `Required key, \"type\" must be a string when calling addNodeType.`\r\n      );\r\n    }\r\n    if (\r\n      typeof config.initialWidth !== \"undefined\" &&\r\n      typeof config.initialWidth !== \"number\"\r\n    ) {\r\n      throw new Error(\r\n        `Optional key, \"initialWidth\" must be a number when calling addNodeType.`\r\n      );\r\n    }\r\n    if (this.nodeTypes[config.type] !== undefined) {\r\n      throw new Error(\r\n        `A node with type \"${config.type}\" has already been declared.`\r\n      );\r\n    }\r\n    const node = {\r\n      type: config.type,\r\n      label: define(config.label, \"\"),\r\n      description: define(config.description, \"\"),\r\n      addable: define(config.addable, true),\r\n      deletable: define(config.deletable, true)\r\n    };\r\n    if (config.initialWidth) {\r\n      node.initialWidth = config.initialWidth;\r\n    }\r\n    if (config.sortIndex !== undefined) {\r\n      node.sortIndex = config.sortIndex;\r\n    }\r\n    if (typeof config.inputs === \"function\") {\r\n      const inputs = config.inputs(getPortBuilders(this.portTypes));\r\n      if (!Array.isArray(inputs) && typeof config.inputs !== 'function') {\r\n        throw new Error(\r\n          `When providing a function to the \"inputs\" key, you must return either an array or a function.`\r\n        );\r\n      }\r\n      node.inputs = inputs;\r\n    } else if (config.inputs === undefined) {\r\n      node.inputs = [];\r\n    } else if (!Array.isArray(config.inputs)) {\r\n      throw new Error(`Optional key, \"inputs\" must be an array.`);\r\n    } else {\r\n      node.inputs = config.inputs;\r\n    }\r\n\r\n    if (typeof config.outputs === \"function\") {\r\n      const outputs = config.outputs(getPortBuilders(this.portTypes));\r\n      if (!Array.isArray(outputs) && typeof config.outputs !== 'function') {\r\n        throw new Error(\r\n          `When providing a function to the \"outputs\" key, you must return either an array or a function.`\r\n        );\r\n      }\r\n      node.outputs = outputs;\r\n    } else if (config.outputs === undefined) {\r\n      node.outputs = [];\r\n    } else if (config.outputs !== undefined && !Array.isArray(config.outputs)) {\r\n      throw new Error(`Optional key, \"outputs\" must be an array.`);\r\n    } else {\r\n      node.outputs = config.outputs;\r\n    }\r\n\r\n    if (config.root !== undefined) {\r\n      if (typeof config.root !== \"boolean\") {\r\n        throw new Error(`Optional key, \"root\" must be a boolean.`);\r\n      } else {\r\n        node.root = config.root;\r\n      }\r\n    }\r\n\r\n    this.nodeTypes[config.type] = node;\r\n    return this;\r\n  }\r\n  removeNodeType(type) {\r\n    if (!this.nodeTypes[type]) {\r\n      console.error(`Non-existent node type \"${type}\" cannot be removed.`);\r\n    } else {\r\n      const { [type]: deleted, ...nodeTypes } = this.nodeTypes;\r\n      this.nodeTypes = nodeTypes;\r\n    }\r\n    return this;\r\n  }\r\n  addPortType(config) {\r\n    if (typeof config !== \"object\" && config !== null) {\r\n      throw new Error(\r\n        \"You must provide a configuration object when calling addPortType\"\r\n      );\r\n    }\r\n    if (typeof config.type !== \"string\") {\r\n      throw new Error(\r\n        `Required key, \"type\" must be a string when calling addPortType.`\r\n      );\r\n    }\r\n    if (this.portTypes[config.type] !== undefined) {\r\n      throw new Error(\r\n        `A port with type \"${config.type}\" has already been declared.`\r\n      );\r\n    }\r\n    if (typeof config.name !== \"string\") {\r\n      throw new Error(\r\n        `Required key, \"name\" must be a string when calling addPortType.`\r\n      );\r\n    }\r\n\r\n    const port = {\r\n      type: config.type,\r\n      name: config.name,\r\n      label: define(config.label, \"\"),\r\n      color: define(config.color, Colors.grey),\r\n      hidePort: define(config.hidePort, false)\r\n    };\r\n\r\n    if (config.acceptTypes === undefined) {\r\n      port.acceptTypes = [config.type];\r\n    } else if (!Array.isArray(config.acceptTypes)) {\r\n      throw new Error(`Optional key, \"acceptTypes\" must be an array.`);\r\n    } else {\r\n      port.acceptTypes = config.acceptTypes;\r\n    }\r\n\r\n    if (config.controls === undefined) {\r\n      port.controls = [];\r\n    } else if (!Array.isArray(config.controls)) {\r\n      throw new Error(`Optional key, \"controls\" must be an array.`);\r\n    } else {\r\n      port.controls = config.controls;\r\n    }\r\n\r\n    this.portTypes[config.type] = port;\r\n    return this;\r\n  }\r\n  removePortType(type, { skipDynamicNodesCheck = false } = {}) {\r\n    if (!this.portTypes[type]) {\r\n      console.error(`Non-existent port type \"${type}\" cannot be removed.`);\r\n    } else {\r\n      if (!skipDynamicNodesCheck) {\r\n        const dynamicNodes = Object.values(this.nodeTypes).filter(\r\n          node =>\r\n            typeof node.inputs === 'function' ||\r\n            typeof node.outputs === 'function'\r\n        );\r\n        if (dynamicNodes.length) {\r\n          console.warn(\r\n            `We've detected that one or more of your nodes is using dynamic inputs/outputs. This is a potentially dangerous operation as we are unable to detect if this portType is being used in one of those nodes. You can quiet this message by passing { skipDynamicNodesCheck: true } in as the second argument.`\r\n          );\r\n        }  \r\n      }\r\n      const affectedNodes = Object.values(this.nodeTypes).filter(\r\n        node =>\r\n          (Array.isArray(node.inputs) &&\r\n            node.inputs.find(p => p.type === type)) ||\r\n          (Array.isArray(node.outputs) &&\r\n            node.outputs.find(p => p.type === type))\r\n      );\r\n      if (affectedNodes.length) {\r\n        throw new Error(\r\n          `Cannot delete port type \"${type}\" without first deleting all node types using these ports: [${affectedNodes\r\n            .map(n => `${n.type}`)\r\n            .join(\", \")}]`\r\n        );\r\n      } else {\r\n        const { [type]: deleted, ...portTypes } = this.portTypes;\r\n        this.portTypes = portTypes;\r\n      }\r\n    }\r\n    return this;\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport styles from \"./ColorPicker.css\";\r\nimport { Colors } from \"../../typeBuilders\";\r\n\r\nexport default ({ x, y, onColorPicked, onRequestClose }) => {\r\n  const wrapper = React.useRef();\r\n\r\n  const testClickOutside = React.useCallback(\r\n    e => {\r\n      if (!wrapper.current.contains(e.target)) {\r\n        onRequestClose();\r\n        document.removeEventListener(\"click\", testClickOutside);\r\n        document.removeEventListener(\"contextmenu\", testClickOutside);\r\n      }\r\n    },\r\n    [wrapper, onRequestClose]\r\n  );\r\n\r\n  const testEscape = React.useCallback(\r\n    e => {\r\n      if (e.keyCode === 27) {\r\n        onRequestClose();\r\n        document.removeEventListener(\"keydown\", testEscape);\r\n      }\r\n    },\r\n    [onRequestClose]\r\n  );\r\n\r\n  React.useEffect(() => {\r\n    document.addEventListener(\"keydown\", testEscape);\r\n    document.addEventListener(\"click\", testClickOutside);\r\n    document.addEventListener(\"contextmenu\", testClickOutside);\r\n    return () => {\r\n      document.removeEventListener(\"click\", testClickOutside);\r\n      document.removeEventListener(\"contextmenu\", testClickOutside);\r\n      document.removeEventListener(\"keydown\", testEscape);\r\n    };\r\n  }, [testClickOutside, testEscape]);\r\n\r\n  return (\r\n    <div\r\n      ref={wrapper}\r\n      className={styles.wrapper}\r\n      style={{\r\n        left: x,\r\n        top: y\r\n      }}\r\n    >\r\n      {Object.values(Colors).map(color => (\r\n        <ColorButton\r\n          onSelected={() => {\r\n            onColorPicked(color);\r\n            onRequestClose();\r\n          }}\r\n          color={color}\r\n          key={color}\r\n        />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst ColorButton = ({ color, onSelected }) => (\r\n  <div className={styles.colorButtonWrapper}>\r\n    <button\r\n      className={styles.colorButton}\r\n      onClick={onSelected}\r\n      data-color={color}\r\n      aria-label={color}\r\n    />\r\n  </div>\r\n);\r\n","import React from \"react\";\r\nimport styles from \"./Comment.css\";\r\nimport Draggable from \"../Draggable/Draggable\";\r\nimport ContextMenu from \"../ContextMenu/ContextMenu\";\r\nimport ColorPicker from \"../ColorPicker/ColorPicker\";\r\nimport { StageContext } from \"../../context\";\r\nimport { Portal } from \"react-portal\";\r\nimport clamp from \"lodash/clamp\";\r\n\r\nexport default ({\r\n  dispatch,\r\n  id,\r\n  x,\r\n  y,\r\n  width,\r\n  height,\r\n  color,\r\n  text,\r\n  stageRect,\r\n  onDragStart,\r\n  isNew\r\n}) => {\r\n  const stageState = React.useContext(StageContext);\r\n  const wrapper = React.useRef();\r\n  const textarea = React.useRef();\r\n  const [isEditing, setIsEditing] = React.useState(false);\r\n  const [isPickingColor, setIsPickingColor] = React.useState(false);\r\n  const [menuOpen, setMenuOpen] = React.useState(false);\r\n  const [menuCoordinates, setMenuCoordinates] = React.useState({ x: 0, y: 0 });\r\n  const [colorPickerCoordinates, setColorPickerCoordinates] = React.useState({\r\n    x: 0,\r\n    y: 0\r\n  });\r\n\r\n  const handleContextMenu = e => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    setMenuCoordinates({ x: e.clientX, y: e.clientY });\r\n    setMenuOpen(true);\r\n    return false;\r\n  };\r\n\r\n  const closeContextMenu = () => setMenuOpen(false);\r\n\r\n  const startDrag = e => {\r\n    onDragStart();\r\n  };\r\n\r\n  const handleDrag = ({ x, y }) => {\r\n    wrapper.current.style.transform = `translate(${x}px,${y}px)`;\r\n  };\r\n\r\n  const handleDragEnd = (_, { x, y }) => {\r\n    dispatch({\r\n      type: \"SET_COMMENT_COORDINATES\",\r\n      id,\r\n      x,\r\n      y\r\n    });\r\n  };\r\n\r\n  const handleResize = coordinates => {\r\n    const width = clamp(coordinates.x - x + 10, 80, 10000);\r\n    const height = clamp(coordinates.y - y + 10, 30, 10000);\r\n    wrapper.current.style.width = `${width}px`;\r\n    wrapper.current.style.height = `${height}px`;\r\n  };\r\n\r\n  const handleResizeEnd = (_, coordinates) => {\r\n    const width = clamp(coordinates.x - x + 10, 80, 10000);\r\n    const height = clamp(coordinates.y - y + 10, 30, 10000);\r\n    dispatch({\r\n      type: \"SET_COMMENT_DIMENSIONS\",\r\n      id,\r\n      width,\r\n      height\r\n    });\r\n  };\r\n\r\n  const handleMenuOption = (option, e) => {\r\n    switch (option.value) {\r\n      case \"edit\":\r\n        startTextEdit();\r\n        break;\r\n      case \"color\":\r\n        setColorPickerCoordinates(menuCoordinates);\r\n        setIsPickingColor(true);\r\n        break;\r\n      case \"delete\":\r\n        dispatch({\r\n          type: \"DELETE_COMMENT\",\r\n          id\r\n        });\r\n        break;\r\n      default:\r\n    }\r\n  };\r\n\r\n  const startTextEdit = () => {\r\n    setIsEditing(true);\r\n  };\r\n\r\n  const endTextEdit = () => {\r\n    setIsEditing(false);\r\n  };\r\n\r\n  const handleTextChange = e => {\r\n    dispatch({\r\n      type: \"SET_COMMENT_TEXT\",\r\n      id,\r\n      text: e.target.value\r\n    });\r\n  };\r\n\r\n  const handleColorPicked = color => {\r\n    dispatch({\r\n      type: \"SET_COMMENT_COLOR\",\r\n      id,\r\n      color\r\n    });\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    if (isNew) {\r\n      setIsEditing(true);\r\n      dispatch({\r\n        type: \"REMOVE_COMMENT_NEW\",\r\n        id\r\n      });\r\n    }\r\n  }, [isNew, dispatch, id]);\r\n\r\n  return (\r\n    <Draggable\r\n      innerRef={wrapper}\r\n      className={styles.wrapper}\r\n      style={{\r\n        transform: `translate(${x}px,${y}px)`,\r\n        width,\r\n        height,\r\n        zIndex: isEditing ? 999 : \"\"\r\n      }}\r\n      stageState={stageState}\r\n      stageRect={stageRect}\r\n      onDragStart={startDrag}\r\n      onDrag={handleDrag}\r\n      onDragEnd={handleDragEnd}\r\n      onContextMenu={handleContextMenu}\r\n      onDoubleClick={startTextEdit}\r\n      onWheel={e => e.stopPropagation()}\r\n      data-color={color}\r\n    >\r\n      {isEditing ? (\r\n        <textarea\r\n          className={styles.textarea}\r\n          onChange={handleTextChange}\r\n          onMouseDown={e => e.stopPropagation()}\r\n          onBlur={endTextEdit}\r\n          placeholder=\"Text of the comment...\"\r\n          autoFocus\r\n          value={text}\r\n          ref={textarea}\r\n        />\r\n      ) : (\r\n        <div data-comment={true} className={styles.text}>\r\n          {text}\r\n        </div>\r\n      )}\r\n      <Draggable\r\n        className={styles.resizeThumb}\r\n        stageState={stageState}\r\n        stageRect={stageRect}\r\n        onDrag={handleResize}\r\n        onDragEnd={handleResizeEnd}\r\n      />\r\n      {menuOpen ? (\r\n        <Portal>\r\n          <ContextMenu\r\n            hideFilter\r\n            label=\"Comment Options\"\r\n            x={menuCoordinates.x}\r\n            y={menuCoordinates.y}\r\n            options={[\r\n              {\r\n                value: \"edit\",\r\n                label: \"Edit Comment\",\r\n                description: \"Edit the text of the comment\"\r\n              },\r\n              {\r\n                value: \"color\",\r\n                label: \"Change Color\",\r\n                description: \"Change the color of the comment\"\r\n              },\r\n              {\r\n                value: \"delete\",\r\n                label: \"Delete Comment\",\r\n                description: \"Delete the comment\"\r\n              }\r\n            ]}\r\n            onRequestClose={closeContextMenu}\r\n            onOptionSelected={handleMenuOption}\r\n          />\r\n        </Portal>\r\n      ) : null}\r\n      {isPickingColor ? (\r\n        <Portal>\r\n          <ColorPicker\r\n            x={colorPickerCoordinates.x}\r\n            y={colorPickerCoordinates.y}\r\n            onRequestClose={() => setIsPickingColor(false)}\r\n            onColorPicked={handleColorPicked}\r\n          />\r\n        </Portal>\r\n      ) : null}\r\n    </Draggable>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport styles from \"./Toaster.css\";\r\n\r\nexport default ({ toasts = [], dispatchToasts }) => {\r\n  const setHeight = React.useCallback(\r\n    (id, height) => {\r\n      dispatchToasts({\r\n        type: \"SET_HEIGHT\",\r\n        id,\r\n        height\r\n      });\r\n    },\r\n    [dispatchToasts]\r\n  );\r\n\r\n  const startExit = React.useCallback(\r\n    id => {\r\n      dispatchToasts({\r\n        type: \"SET_EXITING\",\r\n        id\r\n      });\r\n    },\r\n    [dispatchToasts]\r\n  );\r\n\r\n  const removeToast = React.useCallback(\r\n    id => {\r\n      dispatchToasts({\r\n        type: \"REMOVE_TOAST\",\r\n        id\r\n      });\r\n    },\r\n    [dispatchToasts]\r\n  );\r\n\r\n  return (\r\n    <div className={styles.toaster}>\r\n      {toasts.map((toast, i) => {\r\n        return (\r\n          <Toast\r\n            {...toast}\r\n            onHeightReceived={setHeight}\r\n            onExitRequested={startExit}\r\n            onRemoveRequested={removeToast}\r\n            y={toasts.slice(0, i + 1).reduce((y, t) => t.height + y + 5, 0)}\r\n            key={toast.id}\r\n          />\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst Toast = ({\r\n  id,\r\n  title,\r\n  message,\r\n  duration,\r\n  type,\r\n  exiting,\r\n  y,\r\n  onHeightReceived,\r\n  onExitRequested,\r\n  onRemoveRequested\r\n}) => {\r\n  const [paused, setPaused] = React.useState(false);\r\n  const wrapper = React.useRef();\r\n  const timer = React.useRef();\r\n\r\n  const stopTimer = React.useCallback(() => {\r\n    setPaused(true);\r\n    clearTimeout(timer.current);\r\n  }, []);\r\n\r\n  const resumeTimer = React.useCallback(() => {\r\n    setPaused(false);\r\n    timer.current = setTimeout(() => onExitRequested(id), duration);\r\n  }, [id, duration, onExitRequested]);\r\n\r\n  React.useLayoutEffect(() => {\r\n    const { height } = wrapper.current.getBoundingClientRect();\r\n    onHeightReceived(id, height);\r\n  }, [onHeightReceived, id]);\r\n\r\n  React.useEffect(() => {\r\n    resumeTimer();\r\n    return stopTimer;\r\n  }, [resumeTimer, stopTimer]);\r\n\r\n  const handleAnimationEnd = () => {\r\n    if (exiting) {\r\n      onRemoveRequested(id);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div\r\n      ref={wrapper}\r\n      className={styles.toast}\r\n      data-type={type}\r\n      style={{ transform: `translateY(-${y}px)` }}\r\n      data-exiting={exiting}\r\n      onAnimationEnd={handleAnimationEnd}\r\n      onMouseEnter={stopTimer}\r\n      onMouseLeave={resumeTimer}\r\n      role=\"alert\"\r\n    >\r\n      {\r\n        title ? <span className={styles.title}>{title}</span> : null\r\n      }\r\n      <p>{message}</p>\r\n      {!paused && (\r\n        <div\r\n          className={styles.timer}\r\n          style={{ animationDuration: `${duration}ms` }}\r\n          onAnimationEnd={e => e.stopPropagation()}\r\n        />\r\n      )}\r\n      <button className={styles.exitButton} onClick={() => {\r\n        stopTimer()\r\n        onExitRequested(id)\r\n      }}>✕</button>\r\n    </div>\r\n  );\r\n};\r\n","import React from 'react'\r\nimport { CONNECTIONS_ID } from '../../constants'\r\nimport styles from './Connections.css'\r\n\r\nconst Connections = ({ nodes, editorId }) => {\r\n\r\n  return (\r\n    <div className={styles.svgWrapper} id={`${CONNECTIONS_ID}${editorId}`}/>\r\n  )\r\n}\r\n\r\nexport default Connections\r\n","export const checkForCircularNodes = (nodes, startNodeId) => {\r\n  let isCircular = false;\r\n  const walk = nodeId => {\r\n    const outputs = Object.values(nodes[nodeId].connections.outputs);\r\n    for (var i = 0; i < outputs.length; i++) {\r\n      if(isCircular){\r\n        break;\r\n      }\r\n      const outputConnections = outputs[i];\r\n      for (var k = 0; k < outputConnections.length; k++) {\r\n        const connectedTo = outputConnections[k]\r\n        if(connectedTo.nodeId === startNodeId){\r\n          isCircular = true;\r\n          break;\r\n        }else{\r\n          walk(connectedTo.nodeId)\r\n        }\r\n      }\r\n    }\r\n  }\r\n  walk(startNodeId)\r\n  return isCircular;\r\n}\r\n","import {\r\n  deleteConnection,\r\n  deleteConnectionsByNodeId\r\n} from \"./connectionCalculator\";\r\nimport { checkForCircularNodes } from \"./utilities\";\r\nimport nanoid from \"nanoid/non-secure/index\";\r\n\r\nconst addConnection = (nodes, input, output, portTypes) => {\r\n  const newNodes = {\r\n    ...nodes,\r\n    [input.nodeId]: {\r\n      ...nodes[input.nodeId],\r\n      connections: {\r\n        ...nodes[input.nodeId].connections,\r\n        inputs: {\r\n          ...nodes[input.nodeId].connections.inputs,\r\n          [input.portName]: [\r\n            ...(nodes[input.nodeId].connections.inputs[input.portName] || []),\r\n            {\r\n              nodeId: output.nodeId,\r\n              portName: output.portName\r\n            }\r\n          ]\r\n        }\r\n      }\r\n    },\r\n    [output.nodeId]: {\r\n      ...nodes[output.nodeId],\r\n      connections: {\r\n        ...nodes[output.nodeId].connections,\r\n        outputs: {\r\n          ...nodes[output.nodeId].connections.outputs,\r\n          [output.portName]: [\r\n            ...(nodes[output.nodeId].connections.outputs[output.portName] ||\r\n              []),\r\n            {\r\n              nodeId: input.nodeId,\r\n              portName: input.portName\r\n            }\r\n          ]\r\n        }\r\n      }\r\n    }\r\n  };\r\n  return newNodes;\r\n};\r\n\r\nconst removeConnection = (nodes, input, output) => {\r\n  const inputNode = nodes[input.nodeId];\r\n  const {\r\n    [input.portName]: removedInputPort,\r\n    ...newInputNodeConnectionsInputs\r\n  } = inputNode.connections.inputs;\r\n  const newInputNode = {\r\n    ...inputNode,\r\n    connections: {\r\n      ...inputNode.connections,\r\n      inputs: newInputNodeConnectionsInputs\r\n    }\r\n  };\r\n\r\n  const outputNode = nodes[output.nodeId];\r\n  const filteredOutputNodes = outputNode.connections.outputs[\r\n    output.portName\r\n  ].filter(cnx => {\r\n    return cnx.nodeId === input.nodeId ? cnx.portName !== input.portName : true;\r\n  });\r\n  const newOutputNode = {\r\n    ...outputNode,\r\n    connections: {\r\n      ...outputNode.connections,\r\n      outputs: {\r\n        ...outputNode.connections.outputs,\r\n        [output.portName]: filteredOutputNodes\r\n      }\r\n    }\r\n  };\r\n\r\n  return {\r\n    ...nodes,\r\n    [input.nodeId]: newInputNode,\r\n    [output.nodeId]: newOutputNode\r\n  };\r\n};\r\n\r\nconst getFilteredTransputs = (transputs, nodeId) =>\r\n  Object.entries(transputs).reduce((obj, [portName, transput]) => {\r\n    const newTransputs = transput.filter(t => t.nodeId !== nodeId);\r\n    if (newTransputs.length) {\r\n      obj[portName] = newTransputs;\r\n    }\r\n    return obj;\r\n  }, {});\r\n\r\nconst removeConnections = (connections, nodeId) => ({\r\n  inputs: getFilteredTransputs(connections.inputs, nodeId),\r\n  outputs: getFilteredTransputs(connections.outputs, nodeId)\r\n});\r\n\r\nconst removeNode = (startNodes, nodeId) => {\r\n  let { [nodeId]: deletedNode, ...nodes } = startNodes;\r\n  nodes = Object.values(nodes).reduce((obj, node) => {\r\n    obj[node.id] = {\r\n      ...node,\r\n      connections: removeConnections(node.connections, nodeId)\r\n    };\r\n\r\n    return obj;\r\n  }, {});\r\n  deleteConnectionsByNodeId(nodeId);\r\n  return nodes;\r\n};\r\n\r\nconst reconcileNodes = (initialNodes, nodeTypes, portTypes, context) => {\r\n  let nodes = { ...initialNodes };\r\n\r\n  // Delete extraneous nodes\r\n  let nodesToDelete = Object.values(nodes)\r\n    .map(node => (!nodeTypes[node.type] ? node.id : undefined))\r\n    .filter(x => x);\r\n\r\n  nodesToDelete.forEach(nodeId => {\r\n    nodes = nodesReducer(\r\n      nodes,\r\n      {\r\n        type: \"REMOVE_NODE\",\r\n        nodeId\r\n      },\r\n      { nodeTypes, portTypes, context }\r\n    );\r\n  });\r\n\r\n  // Reconcile input data for each node\r\n  let reconciledNodes = Object.values(nodes).reduce((nodesObj, node) => {\r\n    const nodeType = nodeTypes[node.type];\r\n    const defaultInputData = getDefaultData({ node, nodeType, portTypes, context });\r\n    const currentInputData = Object.entries(node.inputData).reduce(\r\n      (dataObj, [key, data]) => {\r\n        if (defaultInputData[key] !== undefined) {\r\n          dataObj[key] = data;\r\n        }\r\n        return dataObj;\r\n      },\r\n      {}\r\n    );\r\n    const newInputData = {\r\n      ...defaultInputData,\r\n      ...currentInputData\r\n    };\r\n    nodesObj[node.id] = {\r\n      ...node,\r\n      inputData: newInputData\r\n    };\r\n    return nodesObj;\r\n  }, {});\r\n\r\n  // Reconcile node attributes for each node\r\n  reconciledNodes = Object.values(reconciledNodes).reduce((nodesObj, node) => {\r\n    let newNode = { ...node };\r\n    const nodeType = nodeTypes[node.type];\r\n    if (nodeType.root !== node.root) {\r\n      if (nodeType.root && !node.root) {\r\n        newNode.root = nodeType.root;\r\n      } else if (!nodeType.root && node.root) {\r\n        delete newNode.root;\r\n      }\r\n    }\r\n    nodesObj[node.id] = newNode;\r\n    return nodesObj;\r\n  }, {});\r\n\r\n  return reconciledNodes;\r\n};\r\n\r\nexport const getInitialNodes = (\r\n  initialNodes = {},\r\n  defaultNodes = [],\r\n  nodeTypes,\r\n  portTypes,\r\n  context\r\n) => {\r\n  const reconciledNodes = reconcileNodes(initialNodes, nodeTypes, portTypes, context);\r\n\r\n  return {\r\n    ...reconciledNodes,\r\n    ...defaultNodes.reduce((nodes, dNode, i) => {\r\n      const nodeNotAdded = !Object.values(initialNodes).find(\r\n        n => n.type === dNode.type\r\n      );\r\n      if (nodeNotAdded) {\r\n        nodes = nodesReducer(\r\n          nodes,\r\n          {\r\n            type: \"ADD_NODE\",\r\n            id: `default-${i}`,\r\n            defaultNode: true,\r\n            x: dNode.x || 0,\r\n            y: dNode.y || 0,\r\n            nodeType: dNode.type\r\n          },\r\n          { nodeTypes, portTypes, context }\r\n        );\r\n      }\r\n      return nodes;\r\n    }, {})\r\n  };\r\n};\r\n\r\nconst getDefaultData = ({ node, nodeType, portTypes, context }) => {\r\n  const inputs = Array.isArray(nodeType.inputs)\r\n    ? nodeType.inputs\r\n    : nodeType.inputs(node.inputData, node.connections, context);\r\n  return inputs.reduce((obj, input) => {\r\n    const inputType = portTypes[input.type];\r\n    obj[input.name || inputType.name] = (\r\n      input.controls ||\r\n      inputType.controls ||\r\n      []\r\n    ).reduce((obj2, control) => {\r\n      obj2[control.name] = control.defaultValue;\r\n      return obj2;\r\n    }, {});\r\n    return obj;\r\n  }, {});\r\n};\r\n\r\nconst nodesReducer = (\r\n  nodes,\r\n  action = {},\r\n  { nodeTypes, portTypes, cache, circularBehavior, context },\r\n  dispatchToasts\r\n) => {\r\n  switch (action.type) {\r\n    case \"ADD_CONNECTION\": {\r\n      const { input, output } = action;\r\n      const inputIsNotConnected = !nodes[input.nodeId].connections.inputs[\r\n        input.portName\r\n      ];\r\n      if (inputIsNotConnected) {\r\n        const allowCircular = circularBehavior === \"warn\" || circularBehavior === \"allow\"\r\n        const newNodes = addConnection(nodes, input, output, portTypes);\r\n        const isCircular = checkForCircularNodes(newNodes, output.nodeId);\r\n        if (isCircular && !allowCircular) {\r\n          dispatchToasts({\r\n            type: \"ADD_TOAST\",\r\n            title: \"Unable to connect\",\r\n            message: \"Connecting these nodes would result in an infinite loop.\",\r\n            toastType: \"warning\",\r\n            duration: 5000\r\n          });\r\n          return nodes;\r\n        } else {\r\n          if(isCircular && circularBehavior === \"warn\"){\r\n            dispatchToasts({\r\n              type: \"ADD_TOAST\",\r\n              title: \"Circular Connection Detected\",\r\n              message: \"Connecting these nodes has created an infinite loop.\",\r\n              toastType: \"warning\",\r\n              duration: 5000\r\n            });\r\n          }\r\n          return newNodes;\r\n        }\r\n      } else return nodes;\r\n    }\r\n\r\n    case \"REMOVE_CONNECTION\": {\r\n      const { input, output } = action;\r\n      const id =\r\n        output.nodeId + output.portName + input.nodeId + input.portName;\r\n      delete cache.current.connections[id];\r\n      deleteConnection({ id });\r\n      return removeConnection(nodes, input, output);\r\n    }\r\n\r\n    case \"DESTROY_TRANSPUT\": {\r\n      const { transput, transputType } = action;\r\n      const portId = transput.nodeId + transput.portName + transputType;\r\n      delete cache.current.ports[portId];\r\n\r\n      const cnxType = transputType === 'input' ? 'inputs' : 'outputs';\r\n      const connections = nodes[transput.nodeId].connections[cnxType][transput.portName];\r\n      if (!connections || !connections.length) return nodes;\r\n\r\n      return connections.reduce((nodes, cnx) => {\r\n        const [input, output] = transputType === 'input' ? [transput, cnx] : [cnx, transput];\r\n        const id = output.nodeId + output.portName + input.nodeId + input.portName;\r\n        delete cache.current.connections[id];\r\n        deleteConnection({ id });\r\n        return removeConnection(nodes, input, output);\r\n      }, nodes);\r\n    }\r\n\r\n    case \"ADD_NODE\": {\r\n      const { x, y, nodeType, id, defaultNode } = action;\r\n      const newNodeId = id || nanoid(10);\r\n      const newNode = {\r\n        id: newNodeId,\r\n        x,\r\n        y,\r\n        type: nodeType,\r\n        width: nodeTypes[nodeType].initialWidth || 200,\r\n        connections: {\r\n          inputs: {},\r\n          outputs: {}\r\n        },\r\n        inputData: {}\r\n      };\r\n      newNode.inputData = getDefaultData({\r\n        node: newNode,\r\n        nodeType: nodeTypes[nodeType],\r\n        portTypes,\r\n        context\r\n      });\r\n      if (defaultNode) {\r\n        newNode.defaultNode = true;\r\n      }\r\n      if (nodeTypes[nodeType].root) {\r\n        newNode.root = true;\r\n      }\r\n      return {\r\n        ...nodes,\r\n        [newNodeId]: newNode\r\n      };\r\n    }\r\n\r\n    case \"REMOVE_NODE\": {\r\n      const { nodeId } = action;\r\n      return removeNode(nodes, nodeId);\r\n    }\r\n\r\n    case \"HYDRATE_DEFAULT_NODES\": {\r\n      const newNodes = { ...nodes };\r\n      for (const key in newNodes) {\r\n        if (newNodes[key].defaultNode) {\r\n          const newNodeId = nanoid(10);\r\n          const { id, defaultNode, ...node } = newNodes[key];\r\n          newNodes[newNodeId] = {...node, id: newNodeId };\r\n          delete newNodes[key];\r\n        }\r\n      }\r\n      return newNodes;\r\n    }\r\n\r\n    case \"SET_PORT_DATA\": {\r\n      const { nodeId, portName, controlName, data, setValue } = action;\r\n      let newData = {\r\n        ...nodes[nodeId].inputData,\r\n        [portName]: {\r\n          ...nodes[nodeId].inputData[portName],\r\n          [controlName]: data\r\n        }\r\n      };\r\n      if (setValue) {\r\n        newData = setValue(newData, nodes[nodeId].inputData);\r\n      }\r\n      return {\r\n        ...nodes,\r\n        [nodeId]: {\r\n          ...nodes[nodeId],\r\n          inputData: newData\r\n        }\r\n      };\r\n    }\r\n\r\n    case \"SET_NODE_COORDINATES\": {\r\n      const { x, y, nodeId } = action;\r\n      return {\r\n        ...nodes,\r\n        [nodeId]: {\r\n          ...nodes[nodeId],\r\n          x,\r\n          y\r\n        }\r\n      };\r\n    }\r\n\r\n    default:\r\n      return nodes;\r\n  }\r\n};\r\n\r\nexport const connectNodesReducer = (reducer, environment, dispatchToasts) => (\r\n  state,\r\n  action\r\n) => reducer(state, action, environment, dispatchToasts);\r\n\r\nexport default nodesReducer;\r\n","import nanoid from \"nanoid/non-secure/index\";\r\n\r\nconst setComment = (comments, id, merge) => ({\r\n  ...comments,\r\n  [id]: {\r\n    ...comments[id],\r\n    ...merge\r\n  }\r\n});\r\n\r\nexport default (comments = {}, action) => {\r\n  switch (action.type) {\r\n    case \"ADD_COMMENT\": {\r\n      const comment = {\r\n        id: nanoid(10),\r\n        text: \"\",\r\n        x: action.x,\r\n        y: action.y,\r\n        width: 200,\r\n        height: 30,\r\n        color: \"blue\",\r\n        isNew: true\r\n      };\r\n      return {\r\n        ...comments,\r\n        [comment.id]: comment\r\n      };\r\n    }\r\n    case \"REMOVE_COMMENT_NEW\":\r\n      const { isNew: toDelete, ...comment } = comments[action.id];\r\n      return {\r\n        ...comments,\r\n        [action.id]: comment\r\n      };\r\n    case \"SET_COMMENT_COORDINATES\": {\r\n      return setComment(comments, action.id, { x: action.x, y: action.y });\r\n    }\r\n    case \"SET_COMMENT_DIMENSIONS\": {\r\n      return setComment(comments, action.id, {\r\n        width: action.width,\r\n        height: action.height\r\n      });\r\n    }\r\n    case \"SET_COMMENT_TEXT\": {\r\n      return setComment(comments, action.id, { text: action.text });\r\n    }\r\n    case \"SET_COMMENT_COLOR\": {\r\n      return setComment(comments, action.id, { color: action.color });\r\n    }\r\n    case \"DELETE_COMMENT\": {\r\n      const { [action.id]: toDelete, ...newComments } = comments;\r\n      return newComments;\r\n    }\r\n    default:\r\n      return comments;\r\n  }\r\n};\r\n","import nanoid from \"nanoid/non-secure/index\";\r\n\r\nexport default (toasts = [], action) => {\r\n  switch (action.type) {\r\n    case \"ADD_TOAST\":\r\n      return [\r\n        {\r\n          id: nanoid(5),\r\n          title: action.title,\r\n          message: action.message,\r\n          type: action.toastType || 'info',\r\n          duration: action.duration || 10000,\r\n          height: 0,\r\n          exiting: false\r\n        },\r\n        ...toasts\r\n      ];\r\n    case \"SET_HEIGHT\": {\r\n      const index = toasts.findIndex(t => t.id === action.id);\r\n      return [\r\n        ...toasts.slice(0, index),\r\n        {\r\n          ...toasts[index],\r\n          height: action.height\r\n        },\r\n        ...toasts.slice(index + 1)\r\n      ];\r\n    }\r\n    case \"SET_EXITING\": {\r\n      const index = toasts.findIndex(t => t.id === action.id);\r\n      return [\r\n        ...toasts.slice(0, index),\r\n        {\r\n          ...toasts[index],\r\n          exiting: true\r\n        },\r\n        ...toasts.slice(index + 1)\r\n      ];\r\n    }\r\n    case \"REMOVE_TOAST\": {\r\n      const index = toasts.findIndex(t => t.id === action.id);\r\n      return [\r\n        ...toasts.slice(0, index),\r\n        ...toasts.slice(index + 1)\r\n      ];\r\n    }\r\n    default:\r\n      return toasts;\r\n  }\r\n};\r\n","export default (state, incomingAction) => {\r\n  let action = typeof incomingAction === 'function' ? incomingAction(state) : incomingAction;\r\n  switch (action.type) {\r\n    case 'SET_SCALE':\r\n      return {...state, scale: action.scale}\r\n    case 'SET_TRANSLATE':\r\n      return {...state, translate: action.translate}\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","class Cache{\r\n  constructor(){\r\n    this.ports = {};\r\n    this.connections = {};\r\n  }\r\n}\r\nexport default Cache\r\n","class LoopError extends Error {\r\n  constructor(message, code) {\r\n    super(message);\r\n    this.code = code;\r\n  }\r\n  static maxLoopsExceeded = 1;\r\n}\r\n\r\nexport class RootEngine {\r\n  constructor(config, resolveInputControls, fireNodeFunction) {\r\n    this.config = config;\r\n    this.fireNodeFunction = fireNodeFunction;\r\n    this.resolveInputControls = resolveInputControls;\r\n    this.loops = 0;\r\n    this.maxLoops = 1000;\r\n  }\r\n  resetLoops = maxLoops => {\r\n    this.maxLoops = maxLoops !== undefined ? maxLoops : 1000;\r\n    this.loops = 0;\r\n  };\r\n  checkLoops = () => {\r\n    if (this.maxLoops >= 0 && this.loops > this.maxLoops) {\r\n      throw new LoopError(\r\n        \"Max loop count exceeded.\",\r\n        LoopError.maxLoopsExceeded\r\n      );\r\n    } else {\r\n      this.loops++;\r\n    }\r\n  };\r\n  getRootNode = nodes => {\r\n    const roots = Object.values(nodes).filter(n => n.root);\r\n    if (roots.length > 1) {\r\n      throw new Error(\r\n        \"The root engine must not be called with more than one root node.\"\r\n      );\r\n    }\r\n    return roots[0];\r\n  };\r\n  reduceRootInputs = (inputs, callback) =>\r\n    Object.entries(inputs).reduce((obj, [inputName, connection]) => {\r\n      const input = callback(inputName, connection);\r\n      obj[input.name] = input.value;\r\n      return obj;\r\n    }, {});\r\n  resolveInputValues = (node, nodeType, nodes, context) => {\r\n    let inputs = nodeType.inputs\r\n    if (typeof inputs === 'function') {\r\n      inputs = inputs(node.inputData, node.connections, context)\r\n    }\r\n    return inputs.reduce((obj, input) => {\r\n      const inputConnections = node.connections.inputs[input.name] || [];\r\n      if (inputConnections.length > 0) {\r\n        obj[input.name] = this.getValueOfConnection(\r\n          inputConnections[0],\r\n          nodes,\r\n          context\r\n        );\r\n      } else {\r\n        obj[input.name] = this.resolveInputControls(\r\n          input.type,\r\n          node.inputData[input.name] || {},\r\n          context\r\n        );\r\n      }\r\n      return obj;\r\n    }, {});\r\n  };\r\n  getValueOfConnection = (connection, nodes, context) => {\r\n    this.checkLoops();\r\n    const outputNode = nodes[connection.nodeId];\r\n    const outputNodeType = this.config.nodeTypes[outputNode.type];\r\n    const inputValues = this.resolveInputValues(\r\n      outputNode,\r\n      outputNodeType,\r\n      nodes,\r\n      context\r\n    );\r\n    const outputResult = this.fireNodeFunction(\r\n      outputNode,\r\n      inputValues,\r\n      outputNodeType,\r\n      context\r\n    )[connection.portName];\r\n    return outputResult;\r\n  };\r\n  resolveRootNode(nodes, options = {}) {\r\n    const rootNode = options.rootNodeId\r\n      ? nodes[options.rootNodeId]\r\n      : this.getRootNode(nodes);\r\n    if (rootNode) {\r\n      let inputs = this.config.nodeTypes[rootNode.type].inputs;\r\n      if (typeof inputs === 'function') {\r\n        inputs = inputs(rootNode.inputData, rootNode.connections, options.context);\r\n      }\r\n      const controlValues = inputs.reduce(\r\n        (obj, input) => {\r\n          obj[input.name] = this.resolveInputControls(\r\n            input.type,\r\n            rootNode.inputData[input.name] || {},\r\n            options.context\r\n          );\r\n          return obj;\r\n        },\r\n        {}\r\n      );\r\n      const inputValues = this.reduceRootInputs(\r\n        rootNode.connections.inputs,\r\n        (inputName, connection) => {\r\n          this.resetLoops(options.maxLoops);\r\n          let value;\r\n          try {\r\n            value = this.getValueOfConnection(\r\n              connection[0],\r\n              nodes,\r\n              options.context\r\n            );\r\n          } catch (e) {\r\n            if (e.code === LoopError.maxLoopsExceeded) {\r\n              console.error(`${e.message} Circular nodes detected in ${inputName} port.`);\r\n            } else {\r\n              console.error(e)\r\n            }\r\n          } finally {\r\n            return {\r\n              name: inputName,\r\n              value\r\n            };\r\n          }\r\n        }\r\n      );\r\n      if (options.onlyResolveConnected) {\r\n        return inputValues;\r\n      } else {\r\n        return { ...controlValues, ...inputValues };\r\n      }\r\n    } else {\r\n      console.error(\r\n        \"A root node was not found. The Root Engine requires that exactly one node be marked as the root node.\"\r\n      );\r\n      return {};\r\n    }\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport { useId } from \"@reach/auto-id\";\r\nimport Stage from \"./components/Stage/Stage\";\r\nimport Node from \"./components/Node/Node\";\r\nimport Comment from \"./components/Comment/Comment\";\r\nimport Toaster from \"./components/Toaster/Toaster\";\r\nimport Connections from \"./components/Connections/Connections\";\r\nimport {\r\n  NodeTypesContext,\r\n  PortTypesContext,\r\n  NodeDispatchContext,\r\n  ConnectionRecalculateContext,\r\n  RecalculateStageRectContext,\r\n  ContextContext,\r\n  StageContext,\r\n  CacheContext,\r\n  EditorIdContext\r\n} from \"./context\";\r\nimport { createConnections } from \"./connectionCalculator\";\r\nimport nodesReducer, {\r\n  connectNodesReducer,\r\n  getInitialNodes\r\n} from \"./nodesReducer\";\r\nimport commentsReducer from \"./commentsReducer\";\r\nimport toastsReducer from \"./toastsReducer\";\r\nimport stageReducer from \"./stageReducer\";\r\nimport usePrevious from \"./hooks/usePrevious\";\r\nimport clamp from \"lodash/clamp\";\r\nimport Cache from \"./Cache\";\r\nimport { STAGE_ID, DRAG_CONNECTION_ID } from \"./constants\";\r\nimport styles from \"./styles.css\";\r\n\r\nconst defaultContext = {};\r\n\r\nexport let NodeEditor = (\r\n  {\r\n    comments: initialComments,\r\n    nodes: initialNodes,\r\n    nodeTypes = {},\r\n    portTypes = {},\r\n    defaultNodes = [],\r\n    context = defaultContext,\r\n    onChange,\r\n    onCommentsChange,\r\n    initialScale,\r\n    spaceToPan = false,\r\n    hideComments = false,\r\n    disableComments = false,\r\n    disableZoom = false,\r\n    disablePan = false,\r\n    circularBehavior,\r\n    debug\r\n  },\r\n  ref\r\n) => {\r\n  const editorId = useId();\r\n  const cache = React.useRef(new Cache());\r\n  const stage = React.useRef();\r\n  const [sideEffectToasts, setSideEffectToasts] = React.useState()\r\n  const [toasts, dispatchToasts] = React.useReducer(toastsReducer, []);\r\n  const [nodes, dispatchNodes] = React.useReducer(\r\n    connectNodesReducer(\r\n      nodesReducer,\r\n      { nodeTypes, portTypes, cache, circularBehavior, context },\r\n      setSideEffectToasts\r\n    ),\r\n    {},\r\n    () => getInitialNodes(initialNodes, defaultNodes, nodeTypes, portTypes, context)\r\n  );\r\n  const [comments, dispatchComments] = React.useReducer(\r\n    commentsReducer,\r\n    initialComments || {}\r\n  );\r\n  React.useEffect(() => {\r\n    dispatchNodes({ type: \"HYDRATE_DEFAULT_NODES\" });\r\n  }, []);\r\n  const [\r\n    shouldRecalculateConnections,\r\n    setShouldRecalculateConnections\r\n  ] = React.useState(true);\r\n  const [stageState, dispatchStageState] = React.useReducer(stageReducer, {\r\n    scale: typeof initialScale === \"number\" ? clamp(initialScale, 0.1, 7) : 1,\r\n    translate: { x: 0, y: 0 }\r\n  });\r\n\r\n  const recalculateConnections = React.useCallback(() => {\r\n    createConnections(nodes, stageState, editorId);\r\n  }, [nodes, editorId, stageState]);\r\n\r\n  const recalculateStageRect = () => {\r\n    stage.current = document\r\n      .getElementById(`${STAGE_ID}${editorId}`)\r\n      .getBoundingClientRect();\r\n  };\r\n\r\n  React.useLayoutEffect(() => {\r\n    if (shouldRecalculateConnections) {\r\n      recalculateConnections();\r\n      setShouldRecalculateConnections(false);\r\n    }\r\n  }, [shouldRecalculateConnections, recalculateConnections]);\r\n\r\n  const triggerRecalculation = () => {\r\n    setShouldRecalculateConnections(true);\r\n  };\r\n\r\n  React.useImperativeHandle(ref, () => ({\r\n    getNodes: () => {\r\n      return nodes;\r\n    },\r\n    getComments: () => {\r\n      return comments;\r\n    }\r\n  }));\r\n\r\n  const previousNodes = usePrevious(nodes);\r\n\r\n  React.useEffect(() => {\r\n    if (previousNodes && onChange && nodes !== previousNodes) {\r\n      onChange(nodes);\r\n    }\r\n  }, [nodes, previousNodes, onChange]);\r\n\r\n  const previousComments = usePrevious(comments);\r\n\r\n  React.useEffect(() => {\r\n    if (previousComments && onCommentsChange && comments !== previousComments) {\r\n      onCommentsChange(comments);\r\n    }\r\n  }, [comments, previousComments, onCommentsChange]);\r\n\r\n  React.useEffect(() => {\r\n    if(sideEffectToasts){\r\n      dispatchToasts(sideEffectToasts)\r\n      setSideEffectToasts(null)\r\n    }\r\n  }, [sideEffectToasts])\r\n\r\n  return (\r\n    <PortTypesContext.Provider value={portTypes}>\r\n      <NodeTypesContext.Provider value={nodeTypes}>\r\n        <NodeDispatchContext.Provider value={dispatchNodes}>\r\n          <ConnectionRecalculateContext.Provider value={triggerRecalculation}>\r\n            <ContextContext.Provider value={context}>\r\n              <StageContext.Provider value={stageState}>\r\n                <CacheContext.Provider value={cache}>\r\n                  <EditorIdContext.Provider value={editorId}>\r\n                    <RecalculateStageRectContext.Provider\r\n                      value={recalculateStageRect}\r\n                    >\r\n                      <Stage\r\n                        editorId={editorId}\r\n                        scale={stageState.scale}\r\n                        translate={stageState.translate}\r\n                        spaceToPan={spaceToPan}\r\n                        disablePan={disablePan}\r\n                        disableZoom={disableZoom}\r\n                        dispatchStageState={dispatchStageState}\r\n                        dispatchComments={dispatchComments}\r\n                        disableComments={disableComments || hideComments}\r\n                        stageRef={stage}\r\n                        numNodes={Object.keys(nodes).length}\r\n                        outerStageChildren={\r\n                          <React.Fragment>\r\n                            {debug && (\r\n                              <div className={styles.debugWrapper}>\r\n                                <button\r\n                                  className={styles.debugButton}\r\n                                  onClick={() => console.log(nodes)}\r\n                                >\r\n                                  Log Nodes\r\n                                </button>\r\n                                <button\r\n                                  className={styles.debugButton}\r\n                                  onClick={() =>\r\n                                    console.log(JSON.stringify(nodes))\r\n                                  }\r\n                                >\r\n                                  Export Nodes\r\n                                </button>\r\n                                <button\r\n                                  className={styles.debugButton}\r\n                                  onClick={() => console.log(comments)}\r\n                                >\r\n                                  Log Comments\r\n                                </button>\r\n                              </div>\r\n                            )}\r\n                            <Toaster\r\n                              toasts={toasts}\r\n                              dispatchToasts={dispatchToasts}\r\n                            />\r\n                          </React.Fragment>\r\n                        }\r\n                      >\r\n                        {!hideComments &&\r\n                          Object.values(comments).map(comment => (\r\n                            <Comment\r\n                              {...comment}\r\n                              stageRect={stage}\r\n                              dispatch={dispatchComments}\r\n                              onDragStart={recalculateStageRect}\r\n                              key={comment.id}\r\n                            />\r\n                          ))}\r\n                        {Object.values(nodes).map(node => (\r\n                          <Node\r\n                            {...node}\r\n                            stageRect={stage}\r\n                            onDragEnd={triggerRecalculation}\r\n                            onDragStart={recalculateStageRect}\r\n                            key={node.id}\r\n                          />\r\n                        ))}\r\n                        <Connections nodes={nodes} editorId={editorId} />\r\n                        <div\r\n                          className={styles.dragWrapper}\r\n                          id={`${DRAG_CONNECTION_ID}${editorId}`}\r\n                        ></div>\r\n                      </Stage>\r\n                    </RecalculateStageRectContext.Provider>\r\n                  </EditorIdContext.Provider>\r\n                </CacheContext.Provider>\r\n              </StageContext.Provider>\r\n            </ContextContext.Provider>\r\n          </ConnectionRecalculateContext.Provider>\r\n        </NodeDispatchContext.Provider>\r\n      </NodeTypesContext.Provider>\r\n    </PortTypesContext.Provider>\r\n  );\r\n};\r\nNodeEditor = React.forwardRef(NodeEditor);\r\nexport { FlumeConfig, Controls, Colors } from \"./typeBuilders\";\r\nexport { RootEngine } from \"./RootEngine\";\r\nexport const useRootEngine = (nodes, engine, context) =>\r\n  Object.keys(nodes).length ? engine.resolveRootNode(nodes, { context }) : {};\r\n"],"names":["require$$0","require$$1","ReactPropTypesSecret","has","printWarning","ReactIs","assign","checkPropTypes","require$$2","canUseDOM","Portal","PropTypes","_createClass","_classCallCheck","_possibleConstructorReturn","_inherits","Portalv4","LegacyPortal","global","freeGlobal","Symbol","root","hasOwnProperty","objectProto","nativeObjectToString","symToStringTag","getRawTag","objectToString","isObjectLike","baseGetTag","isSymbol","isObject","toNumber","baseClamp","ContextMenu","x","y","options","onRequestClose","onOptionSelected","label","hideHeader","hideFilter","emptyText","menuWrapper","React","useRef","menuOptionsWrapper","filterInput","useState","filter","setFilter","menuWidth","setMenuWidth","selectedIndex","setSelectedIndex","menuId","nanoid","handleOptionSelected","option","testClickOutside","useCallback","current","contains","e","target","removeEventListener","capture","testEscape","keyCode","useEffect","focus","getBoundingClientRect","width","addEventListener","filteredOptions","useMemo","lowerFilter","toLowerCase","opt","includes","handleFilterChange","value","handleKeyDown","which","preventDefault","i","length","menuOption","document","getElementById","menuRect","optionRect","height","scrollIntoView","block","styles","stopPropagation","menuHeader","menuLabel","menuFilter","optionsWrapper","maxHeight","clamp","window","innerHeight","map","description","ContextOption","index","children","onClick","selected","onMouseEnter","NodeTypesContext","createContext","PortTypesContext","NodeDispatchContext","ConnectionRecalculateContext","ContextContext","StageContext","CacheContext","RecalculateStageRectContext","EditorIdContext","stageState","stageRect","onDragDelayStart","onDragStart","onDrag","onDragEnd","onMouseDown","onTouchStart","disabled","delay","innerRef","rest","startCoordinates","offset","wrapper","byScale","scale","getScaledCoordinates","clientX","left","translate","clientY","top","updateCoordinates","coordinates","stopDrag","startDrag","nodeRect","checkDragDelay","touches","a","Math","abs","b","distance","round","sqrt","pow","dragDistance","endDragDelay","startDragDelay","ref","eq","assocIndexOf","listCacheClear","listCacheDelete","listCacheGet","listCacheHas","listCacheSet","ListCache","coreJsData","funcProto","funcToString","isMasked","isFunction","toSource","getValue","baseIsNative","getNative","nativeCreate","HASH_UNDEFINED","hashClear","hashDelete","hashGet","hashHas","hashSet","Hash","Map","isKeyable","getMapData","mapCacheClear","mapCacheDelete","mapCacheGet","mapCacheHas","mapCacheSet","MapCache","stackClear","stackDelete","stackGet","stackHas","stackSet","setCacheAdd","setCacheHas","SetCache","arraySome","cacheHas","COMPARE_PARTIAL_FLAG","COMPARE_UNORDERED_FLAG","symbolTag","Uint8Array","mapToArray","setToArray","equalArrays","isArray","arrayPush","stubArray","arrayFilter","propertyIsEnumerable","baseIsArguments","stubFalse","MAX_SAFE_INTEGER","argsTag","boolTag","dateTag","errorTag","funcTag","mapTag","numberTag","regexpTag","setTag","stringTag","arrayBufferTag","dataViewTag","isLength","nodeUtil","baseUnary","baseIsTypedArray","isArguments","isBuffer","isTypedArray","baseTimes","isIndex","overArg","isPrototype","nativeKeys","isArrayLike","arrayLikeKeys","baseKeys","baseGetAllKeys","keys","getSymbols","getAllKeys","Promise","objectTag","weakMapTag","DataView","Set","WeakMap","arrayTag","getTag","Stack","equalByTag","equalObjects","baseIsEqualDeep","baseIsEqual","isStrictComparable","getMatchData","matchesStrictComparable","baseIsMatch","memoize","memoizeCapped","symbolProto","arrayMap","baseToString","isKey","stringToPath","toString","INFINITY","castPath","toKey","get","baseGet","hasPath","baseHasIn","hasIn","baseProperty","basePropertyDeep","identity","baseMatchesProperty","baseMatches","property","createBaseFor","baseFor","createBaseEach","baseForOwn","baseEach","compareAscending","baseIteratee","baseMap","baseSortBy","compareMultiple","baseOrderBy","STAGE_ID","DRAG_CONNECTION_ID","CONNECTIONS_ID","Stage","editorId","dispatchStageState","outerStageChildren","numNodes","stageRef","spaceToPan","dispatchComments","disableComments","disablePan","disableZoom","nodeTypes","useContext","dispatchNodes","translateWrapper","menuOpen","setMenuOpen","menuCoordinates","setMenuCoordinates","dragData","spaceIsPressed","setSpaceIsPressed","setStageRect","handleWheel","nodeName","dataset","comment","clientHeight","scrollHeight","delta","deltaY","handleDragDelayStart","handleDragStart","handleMouseDrag","coords","xDistance","yDistance","style","transform","handleDragEnd","tran","handleContextMenu","closeContextMenu","addNode","node","internalType","wrapperRect","type","handleDocumentKeyUp","activeElement","handleMouseEnter","stageWrapper","menuOptions","orderBy","Object","values","addable","sortIndex","push","cursor","transformWrapper","scaleWrapper","pi","pointX","pointY","point","getPort","nodeId","portName","transputType","querySelector","getPortRect","cache","portCacheName","cachedPort","ports","port","calculateCurve","from","to","thirdLength","curve","line","curveBasis","deleteConnection","id","parentNode","remove","deleteConnectionsByNodeId","lines","querySelectorAll","updateConnection","setAttribute","createSVG","stage","outputNodeId","outputPortName","inputNodeId","inputPortName","svg","createElementNS","path","appendChild","getStageRef","createConnections","nodes","stageId","stageHalfWidth","stageHalfHeight","forEach","connections","inputs","entries","k","inputName","outputs","fromPort","output","toPort","portHalf","existingLine","Checkbox","data","onChange","checkbox","checked","TextInput","placeholder","updateNodeConnections","step","numberInput","recalculateStageRect","handleMouseMove","handlePossibleResize","inputValue","replace","parseFloat","Number","isNaN","input","MAX_LABEL_LENGTH","Select","allowMultiple","drawerOpen","setDrawerOpen","drawerCoordinates","setDrawerCoordinates","closeDrawer","openDrawer","handleOptionDeleted","slice","optionIndex","getFilteredOptions","selectedOption","find","o","chipsWrapper","val","optLabel","selectStyles","SelectedOption","wrapperRef","selectedWrapper","OptionChip","onRequestDelete","chipWrapper","deleteButton","Control","name","inputLabel","allData","render","inputData","triggerRecalculation","getOptions","setValue","defaultValue","isMonoControl","nodesDispatch","executionContext","calculatedLabel","getControlByType","commonProps","controlLabel","Connection","lineRef","usePrevious","useTransputs","transputsFn","transputs","Array","prevTransputs","transput","IoPorts","inputTypes","resolvedInputs","resolvedOutputs","Input","localControls","controls","noControls","isConnected","hidePort","defaultLabel","color","defaultControls","prevConnected","portLabel","control","Output","Port","isInput","isDragging","setIsDragging","dragStartCoordinates","setDragStartCoordinates","dragStartCoordinatesCache","lineInToPort","handleDrag","droppedOnPort","connectToPortName","connectToNodeId","connectToPortType","portType","connectToTransputType","portTransputType","isNotSameNode","inputWillAcceptConnection","acceptTypes","inputNodeType","inputTransputType","startPort","portIsConnected","zIndex","outputPort","Node","deletable","nodeWrapper","updateConnectionsByTransput","isOutput","toRect","fromRect","combined","cnx","cachedConnection","handleMenuOption","define","undefined","buildControlType","defaultConfig","validate","setup","config","Controls","Colors","getPortBuilders","reduce","obj","FlumeConfig","portTypes","addNodeType","Error","initialWidth","error","deleted","grey","skipDynamicNodesCheck","dynamicNodes","warn","affectedNodes","p","n","join","onColorPicked","ColorButton","onSelected","colorButtonWrapper","colorButton","dispatch","text","isNew","textarea","isEditing","setIsEditing","isPickingColor","setIsPickingColor","colorPickerCoordinates","setColorPickerCoordinates","_","handleResize","handleResizeEnd","startTextEdit","endTextEdit","handleTextChange","handleColorPicked","resizeThumb","toasts","dispatchToasts","setHeight","startExit","removeToast","toaster","toast","t","Toast","title","message","duration","exiting","onHeightReceived","onExitRequested","onRemoveRequested","paused","setPaused","timer","stopTimer","resumeTimer","setTimeout","useLayoutEffect","handleAnimationEnd","animationDuration","exitButton","Connections","svgWrapper","checkForCircularNodes","startNodeId","isCircular","walk","outputConnections","connectedTo","addConnection","newNodes","removeConnection","inputNode","removedInputPort","newInputNodeConnectionsInputs","newInputNode","outputNode","filteredOutputNodes","newOutputNode","getFilteredTransputs","newTransputs","removeConnections","removeNode","startNodes","deletedNode","reconcileNodes","initialNodes","context","nodesToDelete","nodesReducer","reconciledNodes","nodesObj","nodeType","defaultInputData","getDefaultData","currentInputData","dataObj","key","newInputData","newNode","getInitialNodes","defaultNodes","dNode","nodeNotAdded","inputType","obj2","action","circularBehavior","inputIsNotConnected","allowCircular","portId","cnxType","defaultNode","newNodeId","controlName","newData","connectNodesReducer","reducer","environment","state","setComment","comments","merge","toDelete","newComments","toastType","findIndex","incomingAction","Cache","LoopError","code","maxLoopsExceeded","RootEngine","resolveInputControls","fireNodeFunction","resetLoops","maxLoops","loops","checkLoops","getRootNode","roots","reduceRootInputs","callback","connection","resolveInputValues","inputConnections","getValueOfConnection","outputNodeType","inputValues","outputResult","rootNode","rootNodeId","controlValues","onlyResolveConnected","defaultContext","NodeEditor","initialComments","onCommentsChange","initialScale","hideComments","debug","useId","sideEffectToasts","setSideEffectToasts","useReducer","toastsReducer","commentsReducer","shouldRecalculateConnections","setShouldRecalculateConnections","stageReducer","recalculateConnections","useImperativeHandle","previousNodes","previousComments","debugWrapper","debugButton","console","log","JSON","stringify","dragWrapper","forwardRef","useRootEngine","engine","resolveRootNode"],"mappings":"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"}